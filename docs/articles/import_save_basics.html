<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rezonateR">
<title>Importing .rez files, saving rezrObjs, and basic data structure • rezonateR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Importing .rez files, saving rezrObjs, and basic data structure">
<meta property="og:description" content="rezonateR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rezonateR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1.0000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Overview</h6>
    <a class="dropdown-item" href="../articles/overview.html">An overview of rezonateR 0.1.1</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Detailed walkthrough</h6>
    <a class="dropdown-item" href="../articles/import_save_basics.html">Importing .rez files, saving rezrObjs, and basic data structure</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Importing .rez files, saving rezrObjs, and basic data structure</h1>
            
      
      
      <div class="d-none name"><code>import_save_basics.Rmd</code></div>
    </div>

    
    
<p>Hello! If you’re reading this tutorial, you’re probably wondering how
exactly RezonateR works, how to import data into RezonateR and how to
understand how the data is then structured internally. If this desribes
your situation, then this tutorial is for you!</p>
<p>You may or may not have read the introduction (vignette(“overview”))
that gives an overview to RezonateR, and it’s fine either way -
everything overed in that introduction that you’ll need will be repeated
here, in greater detail. The only exception is if you have not installed
rezonateR at all - in that case, please do install it using the
instructions from that tutorial first!</p>
<p>In this tutorial, we will: 1. Meet the .rez file that we need to
import, along with a brief introduction on how Rezonator’s internal JSON
format, .rez files, are structured 2. Learn how to import files into
rezonateR 3. Learn how to save and load <code>rezrObj</code> objects,
the central data structure of rezonateR 4. Learn how the
<code>nodeMap</code> inside a <code>rezrObj</code> is structured 5.
Learn how the <code>rezrDF</code> inside a <code>rezrObj</code> is
structured, and some basic functions for manipulating
<code>rezrDF</code>s</p>
<div class="section level2">
<h2 id="meet-our-file">Meet our file!<a class="anchor" aria-label="anchor" href="#meet-our-file"></a>
</h2>
<p>To begin with, in this tutorial we will be using a simple Rezonator
file. This file contains a minimal amount of annotation - just enough to
explain the basic workings of RezonateR without being bogged down in
long loading times that would result from a more extensively annotated
files. The file is based on the text <em>A Tree’s Life</em>, a
conversation between two sisters. The first part of the file, which
deals with the topic of one of the sisters’ roommates, has been
annotated for coreference (trails), resonance, as well as argument
structure (through trees). There are also largely arbitrary stacks drawn
throughout the file.</p>
<div class="figure">
<img src="img/iosave-sbc007.PNG" style="width:100.0%" alt=""><p class="caption">An image of the Rezonator interface with trail (wavy
lines), resonances (straight lines) and a dependency tree in the nav
window.</p>
</div>
<div class="section level3">
<h3 id="node-maps-the-secret-life-of-rezonator-files">Node maps: The secret life of Rezonator files<a class="anchor" aria-label="anchor" href="#node-maps-the-secret-life-of-rezonator-files"></a>
</h3>
<p>The .rez files produced by Rezonator are visualised through the
Rezonator interface, but they lead a secret double life! Internally,
they are represented by a structure called a node map. All entities
inside .rez files are represented as nodes, which store information in
the form of text, numbers and pointers to other nodes.</p>
<p>To get an idea of what the node map looks like, let’s load a .rez
file. (You will never need to do this directly when working in
rezonateR, as the import function will handle it for you; this is for
demonstration purposes only.) We’ll extract the node map from the .rez
file after importing it into R, and then store it in the variable
<code>rez007_nm</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rezonators.github.io/rezonateR/">rezonateR</a></span><span class="op">)</span></span>
<span><span class="va">path</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"sbc007.rez"</span>, package <span class="op">=</span> <span class="st">"rezonateR"</span>, mustWork <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/alexcb/rjson" class="external-link">rjson</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "C:/Users/User/Documents/GitHub/rezonateR/vignettes"</span></span>
<span><span class="va">rez007_json</span> <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">path</span><span class="op">)</span></span>
<span><span class="va">rez007_nm</span> <span class="op">=</span> <span class="va">rez007_json</span><span class="op">[[</span><span class="st">"ROOT"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"nodeMap"</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<p>Let’s zero on to a single node. The simplest type of node is a token,
or a ‘word’ (this may be a morpheme or some other unit depending on the
language and data you’re working with.). Inside the Rezonator interface,
tokens are the basic unit that you may interact with. Let’s try the word
‘midnight’. The word ‘midnight’ that you see on the screen has an ID of
<code>28A862601A235</code>, and that’s the key we access it from the
node map by. Let’s go ahead and examine some of the information
embeddded inside the node:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">midnight</span> <span class="op">=</span> <span class="va">rez007_nm</span><span class="op">[[</span><span class="st">"28A862601A235"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"type: "</span>, <span class="va">midnight</span><span class="op">$</span><span class="va">type</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "type: token"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"docTokenSeq: "</span>, <span class="va">midnight</span><span class="op">$</span><span class="va">docTokenSeq</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "docTokenSeq: 78"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"unit: "</span>, <span class="va">midnight</span><span class="op">$</span><span class="va">unit</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "unit: 2D1B3667B6110"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"place: "</span>, <span class="va">midnight</span><span class="op">$</span><span class="va">place</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "place: 6"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"inEntryList: "</span>, <span class="va">midnight</span><span class="op">$</span><span class="va">inEntryList</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "inEntryList: 1A598AE39592B"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"inChainsList: "</span>, <span class="va">midnight</span><span class="op">$</span><span class="va">inChainsList</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "inChainsList: 333DF666BC522"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"inChunkList: "</span>, <span class="va">midnight</span><span class="op">$</span><span class="va">inChunkList</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "inChunkList: "</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"tagMap:"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "tagMap:"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">midnight</span><span class="op">$</span><span class="va">tagMap</span>, <span class="va">c</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;       kind      place       text transcript    endNote      order   negPlace </span></span>
<span><span class="co">#&gt;     "Word"        "6" "midnight" "midnight"         ""        "6"        "1" </span></span>
<span><span class="co">#&gt;  corpusSeq pSentOrder    POS_dft   tokenSeq  chunkType  turnOrder </span></span>
<span><span class="co">#&gt;    "51219"       "14"     "NOUN"       "86"         ""       "25"</span></span></code></pre></div>
<p>The <code>type</code> value indicates that we’re looking at a token.
<code>docTokenSeq</code> indicates the position of the word within the
document. <code>unit</code> is a pointer to the node that contains the
token’s unit. <code>place</code> gives the position of the token within
the unit.</p>
<p>The next three are lists of pointers to larger structures that may
contain the token. (These ‘lists’ in .rez files are represented by
vectors, not lists, in R.) <code>inEntryList</code>,
<code>inChainsList</code> and <code>inChunkList</code> give the entries,
chains and chunks in which ‘midnight’ are found. We will discuss entries
in the next section. A chain is either a Track chain, i.e. trail, or a
Rez chain, i.e. a resonance. In this case, ‘midnight’ was put in a
trail, albeit one that contains only itself (i.e. it is a singleton),
which is why you see a coloured box around the word, but no links
emanating from it. So we do see a pointer to the track chain. It does
not belong to any chunks, i.e. the larger rectangles typically
consisting of multiple words.</p>
<p>The <code>tagMap</code> of a specific node includes the tags that
were given when the raw file was first imported into Rezonator, as well
as tags that were created by Rezonator or manually added in Rezonator.
These tags were all given during import; we will see examples of these
later.</p>
</div>
<div class="section level3">
<h3 id="tokens-and-units">Tokens and units<a class="anchor" aria-label="anchor" href="#tokens-and-units"></a>
</h3>
<p>An entry is a leftover structure in Rezonator that currently serves
no real purpose, except as the intermediate layer between units and
tokens. As a general rule, entries correspond one-to-one with tokens.
This is a technicality that you will occasionally need to know when
working in RezonateR.</p>
<p>Basically, a unit only contains pointers to the entries that consists
of it, in the attribute <code>entryList</code>. To look up individual
tokens from a unit, then, you will have to go to individual entries’
nodes to look up the corresponding token. For example, here is the
entryList of the unit 2D1B3667B6110:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"entryList of unit 2D1B3667B6110:"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "entryList of unit 2D1B3667B6110:"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">rez007_nm</span><span class="op">[[</span><span class="st">"2D1B3667B6110"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"entryList"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "24796648BFF31" "13E3DECAC86FF" "1D064F5FF52FD" "B2985F3730E0" </span></span>
<span><span class="co">#&gt; [5] "B6CC005C893A"  "28B6FB7D926CC" "3794C89559C6D"</span></span></code></pre></div>
<p>To look up the first token in this unit, the word ‘if’, you need to
look at the token value of the associated entry:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"token corresponding to entry 24796648BFF31:"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "token corresponding to entry 24796648BFF31:"</span></span>
<span><span class="va">rez007_nm</span><span class="op">[[</span><span class="st">"24796648BFF31"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"token"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] "A27E39A69272"</span></span></code></pre></div>
<p>Let’s now verify that this token is indeed the word ‘if’:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"token corresponding to token A27E39A69272:"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "token corresponding to token A27E39A69272:"</span></span>
<span><span class="va">rez007_nm</span><span class="op">[[</span><span class="st">"A27E39A69272"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">tagMap</span><span class="op">$</span><span class="va">text</span></span>
<span><span class="co">#&gt; [1] "if"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="chunks">Chunks<a class="anchor" aria-label="anchor" href="#chunks"></a>
</h3>
<p>Chunks are the large rectangular boxes that typically span more than
one token. A chunk is automatically created whenever you add a track or
rez entry that spans more than one token, but not when you add a
single-token track or rez entry. So, for example, <em>midnight</em> was
not put inside a chunk, but <em>the purpose of getting up in the
morning</em> was put in a chunk the moment it became part of a track
chain.</p>
<p>There are also chunks that do not belong to any chains, sometimes
called <em>blank chunks</em>. In this document, blank chunks are used to
mark verbal complexes in English, including verbs and auxiliaries, as
well as any intervening adverbs. When a nominal intervenes between the
auxiliary and the verb, the auxiliary is excluded from the verb
chunk.</p>
<p>The word <em>stay</em> on line 3 belongs to a blank chunk and a chunk
in a track chain. Let’s look at those two chunks. The ID for the token
<em>stay</em> is 1A0742C9033E5:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"Chunks that contain 1A0742C9033E5:"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Chunks that contain 1A0742C9033E5:"</span></span>
<span><span class="va">rez007_nm</span><span class="op">[[</span><span class="st">"1A0742C9033E5"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">inChunkList</span></span>
<span><span class="co">#&gt; [1] "35E3E0AB6803A" "15B9BB5D5086C"</span></span></code></pre></div>
<p>So the two chunks that contain <em>stay</em> are 35E3E0AB6803A ans
15B9BB5D5086C. 35E3E0AB6803A is the larger chunk that belongs to a chain
(note that the individual token <em>stay</em> 1A0742C9033E5 does
<em>not</em> belong in the chain):</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"Chains that contain 35E3E0AB6803A:"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Chains that contain 35E3E0AB6803A:"</span></span>
<span><span class="va">rez007_nm</span><span class="op">[[</span><span class="st">"35E3E0AB6803A"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">inChainsList</span></span>
<span><span class="co">#&gt; [1] "2A01379C5D049"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"Chains that contain 1A0742C9033E5:"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Chains that contain 1A0742C9033E5:"</span></span>
<span><span class="va">rez007_nm</span><span class="op">[[</span><span class="st">"1A0742C9033E5"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">inChainsList</span></span>
<span><span class="co">#&gt; list()</span></span></code></pre></div>
<p>A manually added field in this file, <code>chunkType</code>,
specifies the type of chunk that a certain chunk is. The field is blank
for mentions in track chains, but filled for verbs:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"chunkType of 35E3E0AB6803A:"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "chunkType of 35E3E0AB6803A:"</span></span>
<span><span class="va">rez007_nm</span><span class="op">[[</span><span class="st">"35E3E0AB6803A"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">tagMap</span><span class="op">$</span><span class="va">chunkType</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"chunkType of 15B9BB5D5086C:"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "chunkType of 15B9BB5D5086C:"</span></span>
<span><span class="va">rez007_nm</span><span class="op">[[</span><span class="st">"15B9BB5D5086C"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">tagMap</span><span class="op">$</span><span class="va">chunkType</span></span>
<span><span class="co">#&gt; [1] "verb"</span></span></code></pre></div>
<p>This point will be important later on when we import, as it will be
used to separate chunks into layers.</p>
</div>
<div class="section level3">
<h3 id="entries-links-and-chains">Entries, links and chains<a class="anchor" aria-label="anchor" href="#entries-links-and-chains"></a>
</h3>
<p>Rezonator currently has three data types that are termed ‘chains’.
Each of them have specific names for their entries. They are:</p>
<ul>
<li>A chain of track entities (i.e. mentions) is called a <em>trail</em>
- i.e. a coreference chain containing mentions</li>
<li>A chain of rez entities is a <em>resonances</em> - a rez entity is a
specific instance of a word that is resonated somewhere else in the
document, and a resonance is a collection of resonating tokens</li>
<li>A chain of cards is a <em>stack</em>.</li>
</ul>
<p>The first two types of entries correspond to words and chunks, and
the third type of entries correspond to units.</p>
<p>Let’s look at the track 1BF2260B4AB78, which corresponds to the chunk
<em>Stay up late</em> 35E3E0AB6803A that we have seen before:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007_nm</span><span class="op">[[</span><span class="st">"1BF2260B4AB78"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">chain</span></span>
<span><span class="co">#&gt; [1] "2A01379C5D049"</span></span>
<span><span class="va">rez007_nm</span><span class="op">[[</span><span class="st">"1BF2260B4AB78"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">token</span></span>
<span><span class="co">#&gt; [1] "35E3E0AB6803A"</span></span>
<span><span class="va">rez007_nm</span><span class="op">[[</span><span class="st">"1BF2260B4AB78"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">goalLinkList</span></span>
<span><span class="co">#&gt; [1] "ED8C92307B42" "52452779949"  "601CE9FAEBDB"</span></span></code></pre></div>
<p><em>Stay up late</em> belongs to the chain, and corresponds to the
‘token’ (actually chunk - this is a quirk of the .rez format that will
be important to remember when working in rezonateR) 35E3E0AB6803A.
<code>goalLinkList</code> is a list of links that starts from this
entry. Links live in a world of their own and are not particularly
important for working in RezonateR, so we can safely ignore them for
now.</p>
<p>To find out the member entries that a chain contains, you can look at
its <code>setIDList</code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007_nm</span><span class="op">[[</span><span class="st">"2A01379C5D049"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">setIDList</span></span>
<span><span class="co">#&gt; [1] "1BF2260B4AB78" "6B37B5A80F2A"  "1F74D2B049FA4" "3098AB24A0FA6"</span></span>
<span><span class="co">#&gt; [5] "2E01153F693D3" "36B8918BB6E64"</span></span></code></pre></div>
<p>Entries and chains, like tokens (and units), have
<code>tagMap</code>s, and these generally correspond to tags generated
or manually added in Rezonator. Here’s the tagMap of the track and trail
we’ve seen. The track contains the tags <code>gapWords</code> (number of
words from the previous track) and <code>gapUnits</code> (number of
units from the previous track), as well as counts for the number of
tokens and characters inside the track. The tag <code>chainSize</code>
indicates the number of entries inside the chain. These are all
automatically generated by Rezonator and will be covered in more detail
when discussing coreference.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">rez007_nm</span><span class="op">[[</span><span class="st">"1BF2260B4AB78"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">tagMap</span>, <span class="va">c</span><span class="op">)</span></span>
<span><span class="co">#&gt;   gapWords  charCount tokenCount   gapUnits </span></span>
<span><span class="co">#&gt;          5         12          3          1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">rez007_nm</span><span class="op">[[</span><span class="st">"2A01379C5D049"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">tagMap</span>, <span class="va">c</span><span class="op">)</span></span>
<span><span class="co">#&gt; chainSize </span></span>
<span><span class="co">#&gt;         6</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="the-tree-map">The tree map<a class="anchor" aria-label="anchor" href="#the-tree-map"></a>
</h3>
<p>Information related to trees reside in a sub-map of their own,
separate from the other things we’ve been discussing so far. Here is an
example of a tree, containing the word ‘midnight’ we have discussed some
time ago:</p>
<div class="figure">
<img src="img/iosave-tree.PNG" style="width:100.0%" alt=""><p class="caption">An image of a dependency tree in the Rezonator
interface, with the root word ‘’m’, linked to the dependents ‘I’, ‘up’,
‘after midnight’.</p>
</div>
<p>There are three types of entities inside the tree map:
<code>treeEntry</code>, <code>treeLink</code> and <code>tree</code>:</p>
<ul>
<li>A <code>tree</code> is, well an individual tree.</li>
<li>A <code>treeEntry</code> is a ‘node’ of a tree. It may contain one
or multiple tokens - ‘after midnight’ in our example, for example,
contains two tokens, while the other two contain a single token. The one
from which everything else branches out, in layer 0, is called the
root.</li>
<li>A <code>treeLink</code> is a link between two <code>treeEntry</code>
entities</li>
</ul>
<p>Unlike other links, <code>treeLink</code>s <em>are</em> important in
working with rezonateR!</p>
<p>The ID for the tree you see in the image is 10F850E894052. Let’s
first see which tokens and <code>treeEntry</code>s it consists of:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007_nm</span><span class="op">$</span><span class="va">treeMap</span><span class="op">[[</span><span class="st">"10F850E894052"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">tokenList</span></span>
<span><span class="co">#&gt; [1] "A27E39A69272"  "3424455C58367" "35B9A7BEFAE4F" "13CB401695D9D"</span></span>
<span><span class="co">#&gt; [5] "176B4A79BFF4C" "28A862601A235" "2BFC755BC21BF"</span></span>
<span><span class="va">rez007_nm</span><span class="op">$</span><span class="va">treeMap</span><span class="op">[[</span><span class="st">"10F850E894052"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">setIDList</span></span>
<span><span class="co">#&gt; [1] "85D2A496EF73"  "31C3D31EB2618" "23BEEC722C8A0" "108A09B31C449"</span></span>
<span><span class="co">#&gt; [5] "31630BD346EC7" "2966966EBD888"</span></span></code></pre></div>
<p>Now let’s examine one of the entries more closely. <strong>Note that
the above lists include entries that were not actually included in the
tree; you will often have to exclude them from analysis.</strong>
31630BD346EC7 is the ID of ‘after midnight’, and we can examine some of
its attributes. The <code>sourceLink</code> attribute gives the ID of
the link <em>to</em> <em>after midnight</em> link from <em>’m</em>, and
<code>tokenList</code> gives the token IDs for the two tokens
<em>after</em> and <em>midnight</em>:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">rez007_nm</span><span class="op">$</span><span class="va">treeMap</span><span class="op">[[</span><span class="st">"31630BD346EC7"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">sourceLink</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "3FCE9430713C"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">rez007_nm</span><span class="op">$</span><span class="va">treeMap</span><span class="op">[[</span><span class="st">"31630BD346EC7"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">tokenList</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "176B4A79BFF4C" "28A862601A235"</span></span></code></pre></div>
<p>And to wrap it up, how about looking at the link? We can look at its
source (parent) and goal (child) <code>treeEntry</code> IDs, as well as
its tag <code>Relation</code>, which I’ve annotated as
<code>Subj</code>:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">rez007_nm</span><span class="op">$</span><span class="va">treeMap</span><span class="op">[[</span><span class="st">"2CBAF1D3EE0C8"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">source</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "23BEEC722C8A0"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">rez007_nm</span><span class="op">$</span><span class="va">treeMap</span><span class="op">[[</span><span class="st">"2CBAF1D3EE0C8"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">goal</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "31C3D31EB2618"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">rez007_nm</span><span class="op">$</span><span class="va">treeMap</span><span class="op">[[</span><span class="st">"2CBAF1D3EE0C8"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">tagMap</span><span class="op">$</span><span class="va">Relation</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Subj"</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="importing-our-file">Importing our file<a class="anchor" aria-label="anchor" href="#importing-our-file"></a>
</h2>
<p>Let’s now actually import the file into RezonateR! Obviously our
first step is to import the file:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rezonators.github.io/rezonateR/">rezonateR</a></span><span class="op">)</span></span></code></pre></div>
<p>The import function is <code><a href="../reference/importRez.html">importRez()</a></code>. When importing,
there are two important settings you will need to set. We will store the
values of these settings in variables before importing.</p>
<p>The first one is <code>layerRegex</code>:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">layerRegex</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chunk <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>field <span class="op">=</span> <span class="st">"chunkType"</span>,</span>
<span>                               regex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"verb"</span><span class="op">)</span>,</span>
<span>                               names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"verb"</span>, <span class="st">"refexpr"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><code>layerRegex</code> allows you to separate chunks, tracks, rezes
and trees as well as associated entities such as trails and treeEntries
into layers. (At the moment, it is not technically possible for there to
be meaningful stack layers, so this has not yet been implemented for
stacks.) Each layer will receive a separate data frame.</p>
<p>In this file, we have two types of chunks: verbs and (largely)
referential expressions. Verbs are annotated with the
<code>chunkType</code> value ‘verb’, and referential expressions are
unannotated. In order to tell this to rezonateR, we need to set
layerRegex. We need to pass a list to layerRegex. The keys to this list
must be in the list ‘chunk’, ‘track’, ‘rez’, ‘tree’; you can’t use other
keywords (such as ‘trail’).</p>
<p>Each of these entries is another list with three values:
<code>field</code>, <code>regex</code> and <code>names</code>. The field
<code>field</code> specifies the name of the field that will determine
layer status. The field <code>regex</code> specifies a list of regular
expressions which, if matched, will put an entity in a certain layer.
The field <code>names</code> specifies the layer names; when it has one
more item than the regex list (in this case the extra item is
<code>"refexpr"</code>), then that layer is for items that do not match
any of the regexes.</p>
<p><strong>If you do not assign layers to any of chunk, track, rez and
tree, everything will be placed in a layer called
<code>default</code>.</strong>* In our case, track, rez and tree (and
their related entity) are all put in a layer called
<code>default</code>. We will see how this works later on.</p>
<p>The other setting is <code>concatFields</code>:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">concatFields</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"text"</span>, <span class="st">"transcript"</span><span class="op">)</span></span></code></pre></div>
<p>When we are just looking at <code>nodeMap</code>s, we often feel lost
because many nodes do not have any semblance of text on them. In order
to fix this, we can concatenate the text or transript fields of the
tokens associated with each node. These fields must be specified as a
vector passed to <code>concatFields</code>.</p>
<p>Here is the import function, using the settings from above. If you’re
following on, do note that this takes long! The tree-related steps
should, in particular, take extra time to process.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span> <span class="op">=</span> <span class="fu"><a href="../reference/importRez.html">importRez</a></span><span class="op">(</span><span class="va">path</span>,</span>
<span>                   layerRegex <span class="op">=</span> <span class="va">layerRegex</span>,</span>
<span>                   concatFields <span class="op">=</span> <span class="va">concatFields</span><span class="op">)</span></span>
<span><span class="co">#&gt; Import starting - please be patient ...</span></span>
<span><span class="co">#&gt; Creating node maps ...</span></span>
<span><span class="co">#&gt; Creating rezrDFs ...</span></span>
<span><span class="co">#&gt; Adding foreign fields to rezrDFs and sorting (this is the slowest step) ...</span></span>
<span><span class="co">#&gt; &gt;Adding to unit entry DF ...</span></span>
<span><span class="co">#&gt; &gt;Adding to unit DF ...</span></span>
<span><span class="co">#&gt; &gt;Adding to chunk DF ...</span></span>
<span><span class="co">#&gt; &gt;Adding to track DFs ...</span></span>
<span><span class="co">#&gt; &gt;Adding to track DFs ...</span></span>
<span><span class="co">#&gt; &gt;Adding to tree DFs ...</span></span>
<span><span class="co">#&gt; Splitting rezrDFs into layers ...</span></span>
<span><span class="co">#&gt; A few finishing touches ...</span></span>
<span><span class="co">#&gt; Done!</span></span></code></pre></div>
<p>The variable <code>rez007</code> belongs to the class
<code>rezrObj</code>. To save the imported <code>rezrObj</code>
(something you will definitely want to do - nobody wants to import
again!), use the function <code><a href="../reference/saveload.html">rez_save()</a></code>. To load it again, use
the function <code><a href="../reference/saveload.html">rez_load()</a></code>. Both functions are quite easy:
<code><a href="../reference/saveload.html">rez_save()</a></code> simply requires a <code>rezrObj</code> and a
save path, and <code><a href="../reference/saveload.html">rez_load()</a></code> only a path to load from.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">savePath</span> <span class="op">=</span> <span class="st">"rez007.Rdata"</span></span>
<span><span class="fu"><a href="../reference/saveload.html">rez_save</a></span><span class="op">(</span><span class="va">rez007</span>, <span class="va">savePath</span><span class="op">)</span></span>
<span><span class="co">#&gt; Saving rezrObj ...</span></span>
<span><span class="va">rez007</span> <span class="op">=</span> <span class="fu"><a href="../reference/saveload.html">rez_load</a></span><span class="op">(</span><span class="va">savePath</span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading rezrObj ...</span></span></code></pre></div>
<p>A <code>rezrObj</code> consists of two components: a
<code>nodeMap</code> and a bunch of <code>rezrDF</code>s. Let’s look at
the <code>nodeMap</code> object first.</p>
<div class="section level3">
<h3 id="meeting-our-nodemap-again">Meeting our nodeMap again<a class="anchor" aria-label="anchor" href="#meeting-our-nodemap-again"></a>
</h3>
<p>If you felt a bit lost when we were exploring .rez files before,
here’s some good news: <code>nodeMap</code>s in RezonateR are slightly
easier to navigate than the node map in .rez files (phew)! The only
major difference is that in rezonateR <code>nodeMap</code>s, every item
type belongs to its own list. So the nodes in <code>rez007</code>
nodeMap are organised into these categories:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">nodeMap</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "entry"     "token"     "unit"      "link"      "card"      "trail"    </span></span>
<span><span class="co">#&gt;  [7] "chunk"     "track"     "rez"       "stack"     "resonance" "doc"      </span></span>
<span><span class="co">#&gt; [13] "corpus"    "treeEntry" "treeLink"  "tree"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="from-nodemap-to-rezrdf">From nodeMap to rezrDF<a class="anchor" aria-label="anchor" href="#from-nodemap-to-rezrdf"></a>
</h3>
<p>The <code>rezrDF</code> is the soul of rezonateR. rezrDFs are similar
to each individual entity list in the rezonateR <code>nodeMap</code>.
However, instead of a list (dictionary) representation, rezrDFs are data
frames, with each row being a node, and each column being its
attributes.</p>
<p>There are a few ways in which columns are not identical to node
attributes:</p>
<ul>
<li>The <code>id</code> column gives the ID of each node.</li>
<li>
<code>tagMap</code>s are ‘flattened’ (i.e. each tag its own
column).</li>
<li>Some attributes that are Rezonator-internal (e.g. focsed on
visualisation in Rezonator) and not useful for data analysis are
discarded; you can always view them in the <code>nodeMap</code> if you
really want to.</li>
<li>List attributes are eliminated. (We will elaborate on this
later.)</li>
</ul>
<p>Each entity type in a <code>rezrObj</code> (token, track, trail,
etc.) has a corresponding variable (tokenDF, trackDF, trailDF, etc.)
that are directly accessed from the <code>rezrObj</code>. For example,
to access the <code>rezrDF</code> corresponding to tokens, you would use
<code>rez007$tokenDF</code>. Other than <code>nodeMap</code>, all the
top-level entries of a rezrObj are <code>rezrDF</code> variables:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "nodeMap"     "chunkDF"     "docDF"       "entryDF"     "linkDF"     </span></span>
<span><span class="co">#&gt;  [6] "mergedDF"    "resonanceDF" "rezDF"       "tokenDF"     "trackDF"    </span></span>
<span><span class="co">#&gt; [11] "trailDF"     "treeDF"      "treeEntryDF" "treeLinkDF"  "unitDF"</span></span></code></pre></div>
<p>Here is the beginning of the tokenDF. Notice the <code>id</code>
column at the beginning, and the tags all getting their own columns:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">tokenDF</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 18</span></span></span>
<span><span class="co">#&gt;   id         doc   unit  docTo…¹ token…² kind  place text  trans…³ endNote order</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 31F282855… sbc0… 2AD1…       1       1 Pause <span style="color: #949494;">""</span>    (...) (...)   <span style="color: #949494;">""</span>      1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 363C1D373… sbc0… 2AD1…       2       2 Word  <span style="color: #949494;">"</span>1<span style="color: #949494;">"</span>   God   God     <span style="color: #949494;">""</span>      2    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 3628E4BD4… sbc0… 2AD1…       3       3 EndN… <span style="color: #949494;">""</span>    ,     ,       <span style="color: #949494;">"</span>conti… 3    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 37EFCBECF… sbc0… BDD7…       4       1 Word  <span style="color: #949494;">"</span>1<span style="color: #949494;">"</span>   I     I       <span style="color: #949494;">""</span>      1    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 12D677568… sbc0… BDD7…       5       2 Word  <span style="color: #949494;">"</span>2<span style="color: #949494;">"</span>   said  said    <span style="color: #949494;">""</span>      2    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 936363B71… sbc0… BDD7…       6       3 Word  <span style="color: #949494;">"</span>3<span style="color: #949494;">"</span>   I     I       <span style="color: #949494;">""</span>      3    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 7 more variables: negPlace &lt;chr&gt;, corpusSeq &lt;chr&gt;, pSentOrder &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   POS_dft &lt;chr&gt;, tokenSeq &lt;chr&gt;, chunkType &lt;chr&gt;, turnOrder &lt;chr&gt;, and</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   abbreviated variable names ¹​docTokenSeq, ²​tokenOrder, ³​transcript</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ Use `colnames()` to see all variable names</span></span></span></code></pre></div>
<p>For entity types with more than one layer, such as chunk or trail,
there is a list of rezrDFs instead of a single <code>rezrDF</code>. For
example, <code>rez007$chunkDF</code> contains two <code>rezrDF</code>s.
Note that there is a column <code>layer</code> that contains the name of
the layer, which will be identical across all rows in a rezrDF:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">chunkDF</span><span class="op">$</span><span class="va">refexpr</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 22</span></span></span>
<span><span class="co">#&gt;   id           doc   name   nest kind  place text  trans…¹ endNote order negPl…²</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 35E3E0AB680… sbc0… Chun…     2 <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>    Stay… Stay u… <span style="color: #949494;">""</span>      <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 1F6B5F0B3FF… sbc0… Chun…     3 <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>    the … the pu… <span style="color: #949494;">""</span>      <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 24FE2B219BD… sbc0… Chun…     2 <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>    gett… gettin… <span style="color: #949494;">""</span>      <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 158B579C1BA… sbc0… Chun…     1 <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>    the … the mo… <span style="color: #949494;">""</span>      <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2B6521E8813… sbc0… Chun…     1 <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>    all … all th… <span style="color: #949494;">""</span>      <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 5B854594DD34 sbc0… Chun…     2 <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>    the … the wa… <span style="color: #949494;">""</span>      <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 11 more variables: corpusSeq &lt;chr&gt;, pSentOrder &lt;chr&gt;, POS_dft &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   tokenSeq &lt;chr&gt;, chunkType &lt;chr&gt;, turnOrder &lt;chr&gt;, tokenOrderFirst &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   docTokenSeqFirst &lt;dbl&gt;, tokenOrderLast &lt;dbl&gt;, docTokenSeqLast &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   layer &lt;chr&gt;, and abbreviated variable names ¹​transcript, ²​negPlace</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ Use `colnames()` to see all variable names</span></span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">chunkDF</span><span class="op">$</span><span class="va">verb</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 22</span></span></span>
<span><span class="co">#&gt;   id           doc   name   nest kind  place text  trans…¹ endNote order negPl…²</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 210FB26A315A sbc0… Chun…     1 <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>    said  said    <span style="color: #949494;">""</span>      <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 744AD104FE64 sbc0… Chun…     1 <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>    was … was n'… <span style="color: #949494;">""</span>      <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 15B9BB5D508… sbc0… Chun…     1 <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>    Stay  Stay    <span style="color: #949494;">""</span>      <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 1A14BB68EDA… sbc0… Chun…     1 <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>    defe… defeats <span style="color: #949494;">""</span>      <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2CCD5F5A950… sbc0… Chun…     1 <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>    know  know    <span style="color: #949494;">""</span>      <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 1F1135429F3… sbc0… Chun…     1 <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>    's    's      <span style="color: #949494;">""</span>      <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 11 more variables: corpusSeq &lt;chr&gt;, pSentOrder &lt;chr&gt;, POS_dft &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   tokenSeq &lt;chr&gt;, chunkType &lt;chr&gt;, turnOrder &lt;chr&gt;, tokenOrderFirst &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   docTokenSeqFirst &lt;dbl&gt;, tokenOrderLast &lt;dbl&gt;, docTokenSeqLast &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   layer &lt;chr&gt;, and abbreviated variable names ¹​transcript, ²​negPlace</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ Use `colnames()` to see all variable names</span></span></span></code></pre></div>
<p>Meanwhile, <code>rez007$trailDF</code> contains only one,
<code>default</code>:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">trailDF</span><span class="op">$</span><span class="va">default</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 5</span></span></span>
<span><span class="co">#&gt;   id            doc    chainCreateSeq name                               chain…¹</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2053E98E98EDE sbc007             10 the way they were feeling                2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2DFABF7A78227 sbc007             68 right now                                1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 13B30F106D8DF sbc007             27 The two couples                         10</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 21E91EA9BEFE2 sbc007             49 ànything positive about Tim's unc…       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 14CE0A33F22EB sbc007             71 the thing that really scares Alice       3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2B670736C6823 sbc007             87 Trail 87                                 1</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with abbreviated variable name ¹​chainSize</span></span></span></code></pre></div>
<p>When you have multiple layers, in many cases you will need to combine
information from all layers to perform certain actions in rezonateR.
There are functions to do this conveniently. <code>combineLayers</code>
combines all <code>rezrDF</code>s of a certain entity type. To use it,
simply specify the <code>rezrObj</code> and the entity type as a string.
There is an additional parameter, <code>type</code>, which may take the
values <code>"intersect"</code> or <code>"union"</code>. This determines
whether fields not present in all layers will be removed, or retained
with NA values for rows in <code>rezrDF</code>s that don’t have that
column.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="../reference/combineLayer.html">combineLayers</a></span><span class="op">(</span><span class="va">rez007</span>, <span class="st">"chunk"</span>, type <span class="op">=</span> <span class="st">"intersect"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 22</span></span></span>
<span><span class="co">#&gt;   id           doc   name   nest kind  place text  trans…¹ endNote order negPl…²</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 35E3E0AB680… sbc0… Chun…     2 <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>    Stay… Stay u… <span style="color: #949494;">""</span>      <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 1F6B5F0B3FF… sbc0… Chun…     3 <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>    the … the pu… <span style="color: #949494;">""</span>      <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 24FE2B219BD… sbc0… Chun…     2 <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>    gett… gettin… <span style="color: #949494;">""</span>      <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 158B579C1BA… sbc0… Chun…     1 <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>    the … the mo… <span style="color: #949494;">""</span>      <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2B6521E8813… sbc0… Chun…     1 <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>    all … all th… <span style="color: #949494;">""</span>      <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 5B854594DD34 sbc0… Chun…     2 <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>    the … the wa… <span style="color: #949494;">""</span>      <span style="color: #949494;">""</span>    <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 11 more variables: corpusSeq &lt;chr&gt;, pSentOrder &lt;chr&gt;, POS_dft &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   tokenSeq &lt;chr&gt;, chunkType &lt;chr&gt;, turnOrder &lt;chr&gt;, tokenOrderFirst &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   docTokenSeqFirst &lt;dbl&gt;, tokenOrderLast &lt;dbl&gt;, docTokenSeqLast &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   layer &lt;chr&gt;, and abbreviated variable names ¹​transcript, ²​negPlace</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ Use `colnames()` to see all variable names</span></span></span>
<span><span class="co">#head(combineChunks(rez007, type = "intersect")) #Does the same thing</span></span></code></pre></div>
<p>In the nodeMap, we often see lists of values, e.g. units contain a
list of entries inside it. However, these lists are all eliminated from
rezrDF representations. Notice the lack of entry lists in the
<code>unitDF</code>:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">unitDF</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 21</span></span></span>
<span><span class="co">#&gt;   id    doc   unitS…¹ unitEnd unitSeq pID   unitId unitS…² docId unitDur pSent…³</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2AD1… sbc0… 0.000   12.700        1 <span style="color: #BB0000;">NA</span>    1      0.000   sbc0… 12.700  1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> BDD7… sbc0… 12.640  14.450        2 <span style="color: #BB0000;">NA</span>    2      12.640  sbc0… 1.810   1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2752… sbc0… 14.450  15.850        3 <span style="color: #BB0000;">NA</span>    3      14.450  sbc0… 1.400   2      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 8487… sbc0… 15.850  21.200        4 <span style="color: #BB0000;">NA</span>    4      15.850  sbc0… 5.350   3      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 107F… sbc0… 21.200  22.500        5 <span style="color: #BB0000;">NA</span>    5      21.200  sbc0… 1.300   4      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 3078… sbc0… 22.500  24.150        6 <span style="color: #BB0000;">NA</span>    6      22.500  sbc0… 1.650   5      </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 10 more variables: unitDurSkipPause &lt;chr&gt;, unitEnd.1 &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   unitStartSkipPause &lt;chr&gt;, sequence &lt;chr&gt;, participant &lt;chr&gt;, turnSeq &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   text &lt;chr&gt;, transcript &lt;chr&gt;, docTokenSeqFirst &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   docTokenSeqLast &lt;dbl&gt;, and abbreviated variable names ¹​unitStart,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ²​unitStart.1, ³​pSentSeq</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ Use `colnames()` to see all variable names</span></span></span></code></pre></div>
<p>This is for simplicity’s sake. Although it is technically possible to
include these lists in data frames, it is clumsy and will likely slow
down rezonateR a lot to do so.</p>
<p>Of course, understandably sometimes we will still need to refer to
each individual component of a larger entity. The function
<code><a href="../reference/lowerList.html">getLowerFieldList()</a></code> is a way, if somewhat clumsy, of doing
this:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/lowerList.html">getLowerFieldList</a></span><span class="op">(</span><span class="va">rez007</span>,</span>
<span>  fieldName <span class="op">=</span> <span class="st">"kind"</span>,</span>
<span>  simpleDF <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">entryDF</span>,</span>
<span>  complexDF <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">unitDF</span>,</span>
<span>  complexNodeMap <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">nodeMap</span><span class="op">$</span><span class="va">unit</span>,</span>
<span>  listName <span class="op">=</span> <span class="st">"entryList"</span>,</span>
<span>  complexIDs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2AD10A854E6D3"</span>, <span class="st">"BDD7D839325A"</span>, <span class="st">"2752E3B395FC1"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; $`2AD10A854E6D3`</span></span>
<span><span class="co">#&gt; [1] "Pause"   "Word"    "EndNote"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $BDD7D839325A</span></span>
<span><span class="co">#&gt;  [1] "Word"    "Word"    "Word"    "Word"    "Word"    "Word"    "Word"   </span></span>
<span><span class="co">#&gt;  [8] "Word"    "Word"    "Word"    "EndNote"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`2752E3B395FC1`</span></span>
<span><span class="co">#&gt; [1] "Pause"   ""        "Word"    "Word"    "Word"    "EndNote"</span></span></code></pre></div>
<p>Here, we extract the ‘kinds’ (Word, Pause, etc.) of the tokens of
certain units. <code>fieldName</code> is the attribute we’re extracting,
<code>simpleDF</code> is the <code>rezrDF</code> of the ‘smaller’
entity, <code>complexDF</code> is the <code>rezrDF</code> of the
‘larger’ entity, <code>complexNodeMap</code> is the nodeMap of the
‘larger’ entity, <code>listName</code> is the name of the list inside
each node of the <code>complexNodeMap</code> that gives the lower-level
entries, and complexIDs which ‘larger’ entities (in this case units) you
want to extract values for. If left blank, this will be every single
complex node (in this case every unit).</p>
<p>This is a very complicated function. One annoying use case is to get
properties of tokens from track entries, so I provide the function
<code><a href="../reference/lowerList.html">getTrackTokens()</a></code> to do this easily. For example, this code
extracts the <code>kind</code> value of tracks:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/lowerList.html">getTrackTokens</a></span><span class="op">(</span><span class="va">rez007</span>, fieldName <span class="op">=</span> <span class="st">"kind"</span>, trackDF <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span>
<span><span class="co">#&gt; $`1096E4AFFFE65`</span></span>
<span><span class="co">#&gt; [1] "Word"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`92F20ACA5F06`</span></span>
<span><span class="co">#&gt; [1] "Word"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`7E5BB65072C`</span></span>
<span><span class="co">#&gt; [1] "Word" "Word" "Word" "Word" "Word"</span></span></code></pre></div>
<p>In general, though, it is preferable to minimise this type of
extraction. The coming tutorials will explain how we can do common
operations without resorting to using
<code><a href="../reference/lowerList.html">getLowerFieldList()</a></code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="onwards">Onwards!<a class="anchor" aria-label="anchor" href="#onwards"></a>
</h2>
<p>Now that you know your way around .rez files, you can go to the next
tutorial to see how time is handled in Rezonator.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Ryan Ka Yau Lai, John W Du Bois.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
