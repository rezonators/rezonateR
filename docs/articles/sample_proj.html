<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rezonateR">
<title>Sample mini-project: Analysing coreference in rezonateR • rezonateR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Sample mini-project: Analysing coreference in rezonateR">
<meta property="og:description" content="rezonateR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rezonateR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1.0000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Overview</h6>
    <a class="dropdown-item" href="../articles/overview.html">An overview of rezonateR for Rezonator users</a>
    <a class="dropdown-item" href="../articles/sample_proj.html">Sample mini-project: Analysing coreference in rezonateR</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Detailed walkthrough</h6>
    <a class="dropdown-item" href="../articles/import_save_basics.html">Importing Rezonator files, saving rezonateR objects, and basic data structure</a>
    <a class="dropdown-item" href="../articles/time_seq.html">Time and sequence</a>
    <a class="dropdown-item" href="../articles/edit_easyEdit.html">Editing I: Using EasyEdit</a>
    <a class="dropdown-item" href="../articles/edit_tidyRez.html">Editing II: Using TidyRez</a>
    <a class="dropdown-item" href="../articles/edit_external.html">Editing III: Using external tools</a>
    <a class="dropdown-item" href="../articles/tree.html">Dealing with Trees</a>
    <a class="dropdown-item" href="../articles/track.html">Tracking down coreference phenomena</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Sample mini-project: Analysing coreference in rezonateR</h1>
            
      
      
      <div class="d-none name"><code>sample_proj.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction-to-the-tutorial">Introduction to the tutorial<a class="anchor" aria-label="anchor" href="#introduction-to-the-tutorial"></a>
</h2>
<p>This tutorial is a sample project in <code>rezonateR</code> aiming to
predict the length of referential expressions in natural discourse based
on several discourse and grammatical factors. <code>rezonateR</code> is
an R package mainly designed to import, organise and analyse data
produced by the annotation and discourse visualisation software <a href="http://rezonator.com/" class="external-link">Rezonator</a>, Rezonator, developed at the
University of California, Santa Barbara led by John W Du Bois, handles a
variety of linguistic annotations, including span annotations,
coreference chains, dependency trees, and more, with a focus on spoken
discourse. The package <code>rezonateR</code>, created by the author
(Ryan Ka Yau Lai), aims to simplify the process of working with
Rezonator data using a wealth of built-in functions for data wrangling,
feature engineering, and combining Rezonator data with other sources of
annotations.</p>
<p>This tutorial will cover some of the most important functions,
including:</p>
<ul>
<li><p>Importing a .rez file (the Rezonator data format) and reading
annotations imported</p></li>
<li><p>Defining whether a token counts as a word</p></li>
<li><p>Deriving measures predictive of the choice of referential form
(which may also be useful for a variety of other applications like
coreference resolution)</p></li>
<li><p>Connecting information from dependency trees to information about
coreference chains</p></li>
<li><p>Merging chunks (Rezonator’s implementation of span
annotations)</p></li>
<li><p>Doing automatic annotations within <code>rezonateR</code>, then
exporting the results to a spreadsheet and importing it back into
R</p></li>
</ul>
<p>This simple project shows most of the basic capabilities of
<code>rezonateR</code>. The longer series of tutorials starting from an
introduction to <a href="https://rezonators.github.io/rezonateR/articles/import_save_basics.html">imports,
saving and data structure</a>
(<code><a href="../articles/import_save_basics.html">vignette("import_save_basics")</a></code>) is based on the same
dataset as this page, but covers most functionality of the package down
to the smallest details, and you can pick and choose topics from there
to read. If you are already familiar with using Rezonator, you may want
to consult the <a href="https://rezonators.github.io/rezonateR/articles/overview.html">overview</a>
for Rezonator users (<code><a href="../articles/overview.html">vignette("overview")</a></code>), a less
topically focused overview that tells you how <code>rezonateR</code> can
support your Rezonator work, covering more topics about different
aspects of <code>rezonateR</code> than this page.</p>
<p>This article does not assume that you have read any of these other
articles, so there is some overlap in the topics covered. However, this
article will have less focus on how to write the code, and more on
showing you how to answer the sample research question using
<code>rezonateR</code>. So don’t worry if you don’t understand the
details of how the code works - that can come later, as you read the
detailed tutorials and documentation. I will point you to other
tutorials for further details when relevant.</p>
</div>
<div class="section level2">
<h2 id="research-question-referent-accessibility-and-referential-choice">Research question: Referent accessibility and referential
choice<a class="anchor" aria-label="anchor" href="#research-question-referent-accessibility-and-referential-choice"></a>
</h2>
<p>In this tutorial, we will be using Rezonator and
<code>rezonateR</code> to address a research question using a simple
sample data set: We will look at the relationship between the
accessibility of a referent, i.e. the ease of cognitively ‘getting at’ a
referent, and the choice of a linguistic expression used to refer to
that form. Before elaborating on our research question, we will first
introduce basic assumptions about the research topic.</p>
<p>In language, we often refer to different entities and concepts in the
world: The people around us, the places we pass through, the things we
see and remember. These things are called <em>referents</em>, and when
we use linguistic expressions to refer to them, those linguistic
elements are called <em>referential expressions</em>.</p>
<p>In the following example, we see a short snippet of conversation
between two sisters from the text <em>A Tree’s Life</em>, a conversation
between two sisters from the Santa Barbara Corpus of Spoken American
English (Du Bois et al. 2000). Just in this short passage, we can see
different referential expressions:</p>
<div class="figure">
<img src="images/paste-9B4A5FCB.png" width="648" alt=""><p class="caption">Figure 1: A short excerpt of a conversation with
several referential expressions</p>
</div>
<p>There are several examples of referential expressions in Figure 1.
For example, in the first line in the screenshot (line 361), Mary refers
to a cattle guard with the phrase <em>the first cattle guard you go
over</em>. She refers back to it in line 363 using the expression
<em>that</em>. In the same line 363, she also uses the expression
<em>I</em> to refer to herself. Alice’s reply mentions a new referent,
<em>the tunnel</em> (366). All of these phrases refer to people or
entities in the world.</p>
<p>In the above example, the same referent (the cattle guard) was
referred to using two distinct expressions: a noun phrase with a
relative clause <em>that first cattle guard you go over</em> (line 361)
and a demonstrative pronoun <em>that</em> (line 363). When people do
this, we say that they are tracking referents across different parts of
the discourse. The relationship between two referential expressions with
the same referent in a text is called <em>coreference</em>. Each
referential expression may be referred to as a <em>mention</em> of a
certain referent.</p>
<p>In the following image (Figure 2), we have marked up the two
expressions referring to the cattle guard with green rectangles, and
drawn a line between them, showing the coreference relation. The
resulting structure, with lines linking up different referential
expressions, is often referred to as a <em>coreference chain</em>:</p>
<div class="figure">
<img src="images/paste-5875E3E1.png" width="590" alt=""><p class="caption">Figure 2: Coreference chain containing two mentions
of the first cattle guard</p>
</div>
<p>We do the same thing with the two appearances of the referential
expression <em>the tunnel</em> in lines 366-367, since they refer to the
same tunnel. This time, the referential expressions are enclosed by blue
rectangles, and linked with a blue line to show the coreference
relation:</p>
<div class="figure">
<img src="images/paste-0904E75C.png" width="347" alt=""><p class="caption">Figure 3: Coreference chain containing two mentions
of the tunnel</p>
</div>
<p>The next figure shows how the whole excerpt we have shown at the
beginning would look like with all the coreference chains marked
(including the first, truncated referential expression <em>the</em> in
line 365):</p>
<div class="figure">
<img src="images/paste-4C24C25A.png" width="619" alt=""><p class="caption">Figure 4: A version of Figure 1 with all the
referential expressions marked.</p>
</div>
<p>Up to now, we have seen that referential expressions come in many
shapes and sizes: They can be heavily modified noun phrases like
<em>that first cattle guard you go over</em>, or short one-word
expressions like <em>that</em>. An important question is how humans make
use of these different linguistic resources to refer to people and
entities in the world.</p>
<p>It is often noted that in language, if a referent is more
‘accessible’, or more easily accessed mentally - for example, it is
salient in the previous discourse or physical context - then we will
tend to refer to it using a shorter and simpler form. Referents that are
less accessible - for example, things that are mentioned for the first
time - tend to be referred to using longer forms (e.g. Ariel 2001). In
our first example, when the cattle guard was first mentioned, it was
newly introduced to the discourse, and we see that Mary wasn’t even sure
that Alice remembers about it. It was thus not accessible. This likely
motivated the use of a long referential expression, to help Mary
retrieve the correct referent. But after Mary affirmed that she
understood, it became a salient entity in the minds of both
conversational partners, and when Mary refers to the cattle guard again,
she switches to the shorter form <em>that</em>.</p>
<p>Thus, we should expect that in natural discourse, factors that render
a referent more accessible are associated with shorter forms, and
factors that make it less accessible are associated with longer forms.
Figure 3 shows an example of this phenomenon where an entity is first
mentioned as a full noun phrase, and by the end of the stretch of text
is only mentioned by a pronoun. The coreference chain this time is in
pink, with successive mentions linked by pink lines, like the other
coreference chains we have seen before:</p>
<div class="figure">
<img src="images/paste-F849630B.png" width="604" alt=""><p class="caption">Figure 5: Coreference chain for three mentions of
hard times</p>
</div>
<p>When the concept of hard times was first mentioned, it was with a
noun phrase <em>hard times</em> (line 159), and the same occurred again
in the next line. But the third time it appeared, a pronoun <em>it</em>
was used. Intuitively, <em>hard times</em> was quite prominent and
therefore accessible by the third reference, and hence a shorter form
was used.</p>
<p>Note that the word <em>they</em> in lines 158 and 159, although
having the same form as <em>they</em> in line 162, is <em>not</em>
linked, since these expressions are referring to a group of people, and
not hard times. (To be exact, they are Alice’s roommates.) We can draw a
separate coreference chain for <em>they,</em> shown here in red instead
of purple:</p>
<div class="figure">
<img src="images/paste-F7704C5B.png" width="660" alt=""><p class="caption">Figure 6: A separate chain for the two instances of
they with a different referent</p>
</div>
<p>In Figure 6, the fact that the roommates were referred to by the
short and simple one-word expression <em>they</em> probably suggests
that they were quite prominent in context. Indeed, in the context
preceding these two lines, they have been mentioned numerous times, and
were the main topic of discussion.</p>
<p>So far, we have talked about notions like accessibility and
prominence in rather vague and general terms. But what exactly makes
something more accessible, and therefore more likely to be referred to
using a shorter form? To understand how exactly people choose
referential expressions in natural discourse, we need to turn factors
affecting accessibility into a more concrete, readily operationalisable
form.</p>
<p>In this project, we will propose some factors that may increase
accessibility (e.g. the number of times an entity has been recently
mentioned), and then determine whether they are associated with the use
of a shorter form in natural discourse. For example, if certain
referents have just been mentioned a lot in the previous context, we
might expect that they are relatively mentally accessible. If such
referents are statistically more likely to be referred to using shorter,
simpler forms - like the example of <em>they</em> that we have just
discussed - then we have support for the idea that people choose to use
shorter, simpler forms when referents are more accessible in discourse.
This project is a preliminary investigation of this issue using a short
snippet of conversation.</p>
</div>
<div class="section level2">
<h2 id="this-tutorial-in-a-nutshell">This tutorial in a nutshell<a class="anchor" aria-label="anchor" href="#this-tutorial-in-a-nutshell"></a>
</h2>
<p>The aim of this article is to demonstrate, using a sample, highly
simplified project, what type of analysis may be conducted using
Rezonator and <code>rezonateR</code>. This particular example will
examine the choice of referential forms in spoken dialogue: What factors
lead to the choice of a longer form versus a shorter one? The following
snippet of conversation (Figure 7), for example, has two referential
expressions referring to the same entity - a dog - but the first one is
a rather long noun phrase (<em>this darn dog</em>) while the second is a
simple, one-word pronoun (<em>her</em>). Can we tell what factors are at
play here that motivated the speaker’s choice of referential
expression?</p>
<div class="figure">
<img src="images/paste-CF41A72C.png" width="577" alt=""><p class="caption">Figure 7: Coreference chain containing two mentions
of a dog</p>
</div>
<p>To this end, we will annotate each referential expression in the text
using properties that we believe are related to accessibility, such as
the number of times the referent has been mentioned recently, or whether
the expression is the subject of a clause. We will then use this
information and attempt to see whether some of these properties are
associated with the use of shorter, simpler referential expressions and
others with longer, more complex expressions. The only prerequisite of
this tutorial is that you have installed <code>rezonateR</code>. If you
have not, please do it now using this code:</p>
<table style="width:57%;" class="table">
<colgroup><col width="56%"></colgroup>
<thead><tr class="header">
<th>Installing rezonateR</th>
</tr></thead>
<tbody><tr class="odd">
<td><pre class="{r}"><code><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"rezonators/rezonateR"</span><span class="op">)</span></span></code></pre></td>
</tr></tbody>
</table>
<p>You are welcome to follow this tutorial in R. If you are reading this
in R using the file <code>sample_proj.Rmd</code>, you can simply click
on the ‘run’ button (green ‘play’ icon on the top right of each box) to
run the code. As long as all the code blocks are run sequentially, the
code should work; otherwise, please <a href="https://github.com/rezonators/rezonateR/issues" class="external-link">submit a
ticket</a> on GitHub!</p>
<div class="section level3">
<h3 id="overview-of-our-goal-in-rezonater">Overview of our goal in rezonateR<a class="anchor" aria-label="anchor" href="#overview-of-our-goal-in-rezonater"></a>
</h3>
<p>As we said above, our goal is to propose several factors that are
potentially relevant to accessibility of referents in discourse, and see
if they are associated with simpler referential forms. For the purposes
of this tutorial, we will use orthographic length, or how many English
letters there are in an expression, as a proxy for how ‘simple’ the
referential forms will be, since this is the easiest to calculate. This
acts as a proxy for phonological size, which is often claimed to be
associated with accessibility: the more accessible an entity, the
smaller the phonological size of the referential expression used (Ariel
2001). The orthographic length variable will be referred to as
<code>charCount</code> in the code.</p>
<p>We will be building a model that predicts the <code>charCount</code>
from several predictors in our small dataset, which include properties
of the expression itself as well as its relation to the wider
grammatical and discourse context. Here is a spoiler of the final set of
factors, which we will explain in more detail as we go through the
tutorial:</p>
<ul>
<li>
<code>noPrevSubjMentionsIn10</code>: The number of coreferent
subject mentions within the 10 previous intonation units. That is, how
many times was the referent of a form mentioned in the 10 previous
intonation units in subject position?</li>
<li>
<code>noPrevNonSubjMentionsIn10</code>: The number of coreferent
non-subject mentions within the 10 previous intonation units. That is,
how many times was the referent of a form mentioned in the 10 previous
intonation units, outside of subject position?</li>
<li>
<code>gapUnits</code>: How many intonation units are there between
the previous mention and the current one?</li>
<li>
<code>noCompetitors</code>: The number of competitors within the ten
previous intonation units. That is, how many times were entities other
than the referent of the current referential expression mentioned within
the ten previous intonation units?</li>
<li>
<code>seqInTrail</code>: The position of a mention in its
coreference chain. That is, is it the first mention of something, or the
second, third, etc.?</li>
<li>
<code>Relation</code>: Is the current referential expression a
subject?</li>
<li>
<code>isPredOrFree</code>: Is the current mention either a nominal
predicate (copula complement) or not tied to a particular clause?</li>
<li>
<code>number</code>: Is the current referential expression singular
or plural?</li>
</ul>
<p>Thus, our goal within R is to create a data frame where each row
corresponds to a referential expression, and the columns include all of
these factors (plus <code>charCount</code>, the number of characters).
This can be done easily using the <code>rezonateR</code> functions after
inputting the raw Rezonator data.</p>
<p>The analysis we will make here is not the optimal one for the
dataset, but mainly serves as a way of showcase the functionalities on
offer. Thus, the dataset is very small and modelling choices will be
kept simple, compared to what one would do in an actual project.</p>
</div>
</div>
<div class="section level2">
<h2 id="the-input-data-from-rezonator">The input data from Rezonator<a class="anchor" aria-label="anchor" href="#the-input-data-from-rezonator"></a>
</h2>
<p>The first 162 lines have been annotated and will be used in this
tutorial; they deal with the topic of one of the sisters’ roommates. The
data is also available through the <code>sbc007</code> object in the
package itself, where a detailed description of the annotations included
may be found. The full corpus, with text and audio files, can be
downloaded at the <a href="https://www.linguistics.ucsb.edu/research/santa-barbara-corpus" class="external-link">Santa
Barbara Corpus page on the UC Santa Barbara Linguistics Department
Website</a>. The corpus in <code>.rez</code> format, the file format
which is used by the Rezonator program and can be imported into R using
<code>rezonateR</code>, is shipped with Rezonator, which can be
downloaded on the <a href="http://rezonator.com/" class="external-link">Rezonator
website</a>.</p>
<p>In this section, we will explore the basic structure of a Rezonator
file using this text. More advanced data structures will be introduced
later in the tutorial as the need arises.</p>
<div class="section level3">
<h3 id="units-and-tokens">Units and tokens<a class="anchor" aria-label="anchor" href="#units-and-tokens"></a>
</h3>
<p>Figure 8 shows an excerpt close to the beginning of the conversation
in Rezonator:</p>
<div class="figure">
<img src="img/sample_convo.PNG" style="width:84.0%" alt=""><p class="caption">Figure 8: Units and tokens.</p>
</div>
<p>In this file, each line is referred to as a <em>unit</em>, which in
this context is an <em>intonation unit</em>, or a short burst of speech
under a single intonation contour. In other research projects where we
are working with other basic units such as the sentence, clause or other
structure of similar length, we can set the Rezonator unit to those
structures instead.</p>
<p>Each unit consists of a series of tokens separated by spaces. In this
file, most of the tokens are English words, like <em>usually</em>,
<em>I</em> and <em>do</em> in line 7 of the screenshot in Figure 8. Also
considered tokens are contractions like <em>’nt</em> for <em>not</em> on
lines 7 and 9 or <em>’s</em> for <em>is</em> on lines 10 and 12, which
are considered separate tokens in this project even though they are not
separated by whitespace from the previous token in English writing
conventions.</p>
<p>However, there are also other elements that are considered tokens.
For example, the symbol at the end of each line in the screenshot is
called an <em>endnote</em> in the context of discourse-functional
transcription (DFT), the transcription conventions used in the Santa
Barbara Corpus. It denotes the intonational contour type of the
intonation unit. In the line 7, the dash indicates that the intonation
unit was truncated. In line 8, the period represents final (falling)
intonation, whereas in line 10, the comma represents continuing
intonation, which is associated with a relatively stable pitch near the
end. Line 11 ends with a question mark indicating question intonation,
which is associated with rising pitch near the end.</p>
<p>There are also other tokens that are not words, such as
<code>(...)</code> in line 10, denoting a relatively long pause, or
<code>@</code> in line 12, denoting a pulse of laughter. These
transcription symbols are all considered tokens in this file, and
together with actual words like <em>usually</em>, they are arranged into
intonation units in Santa Barbara corpus transcriptions.</p>
<div class="section level4">
<h4 id="tracks-and-trails">Tracks and trails<a class="anchor" aria-label="anchor" href="#tracks-and-trails"></a>
</h4>
<p>Coreference chains have been annotated in this file. In the Rezonator
context, coreference chains are also known as <em>trails</em>. A trail
consists of several mentions or referential expressions that refer to
the same entity. Each of these individual referential expressions is
called a <em>track</em>, and they are connected by wavy lines in
Rezonator. We saw some examples of trails at the beginning of this
tutorial. Here is another example:</p>
<div class="figure">
<img src="img/sample_track.PNG" style="width:100.0%" alt=""><p class="caption">Figure 9: Coreference chain for the referent Tim</p>
</div>
<p>In Figure 9, the proper name <em>Tim</em> and three instances of the
pronoun <em>he</em> all refer to the same person, Tim, and hence are
four <em>tracks</em> of the same purple <em>trail</em>.</p>
</div>
<div class="section level4">
<h4 id="zeroes">Zeroes<a class="anchor" aria-label="anchor" href="#zeroes"></a>
</h4>
<p>When there is a clause with an implicit participant that is not
overtly expressed in the linguistic form, this is often referred to as a
<em>zero</em>. In this file, a zero is annotated whenever there is a
participant that is implied by the verb, but not overtly expressed in
the linguistic content. In the annotated .<code>rez</code> file we are
working with, the symbol &lt;0&gt; is used to indicate such a zero.
Zeroes are added to the same trail as referential expressions referring
to the same entity. Here is an example where explicit referential
expressions are placed in the same purple trail as a zero:</p>
<div class="figure">
<img src="images/paste-11E68D36.png" width="604" alt=""><p class="caption">Figure 10: Coreference chain for the referent Mary,
including two first-person pronouns and a zero</p>
</div>
<p>Notice that the two occurrences of <em>I</em> on Line 2 in Figure 10
are linked together with a purple link. In the third line, the person
who is implied to be staying up late is Mary herself, even though there
is no explicit mention. Thus, a zero was inserted before <em>stay</em>,
and added to the same trail as the two occurrences of <em>I</em>.</p>
<p>In Figure 10, the zero in line 4 does not refer back to <em>I</em>,
but to the action of staying up late. Thus, it is not in the same chain,
as indicated by the lack of a purple border around it (even though the
fact that the purple line runs through the &lt;0&gt; might lead one to
mistakenly believe that it belongs to the same chain). In fact, as shown
in Figure 11, the &lt;0&gt; on line 4 belongs to the same chain as
<em>this</em> on line 2 and <em>stay up late</em> on line 3, both of
which refer to the action of staying up late:</p>
<div class="figure">
<img src="images/paste-3973BFDF.png" width="614" alt=""><p class="caption">Figure 11: Coreference chain for the action of
staying up late, including a demonstrative pronoun, the phrase <em>stay
up late</em>, and a zero</p>
</div>
</div>
<div class="section level4">
<h4 id="chunks">Chunks<a class="anchor" aria-label="anchor" href="#chunks"></a>
</h4>
<p>A ‘chunk’ in a Rezonator is a sequence of tokens within a unit, often
a type of phrase such as a noun phrase. In Rezonator, chunks are
elements represented by rectangular outlines around one or more
tokens.</p>
<p>There are two types of chunks. Some chunks correspond to tracks. For
example, <em>stay up late</em> in the example we have just seen is a
chunk. These chunks have rectangular borders of the same colour as the
rest of the trail that they belong to:</p>
<div class="figure">
<img src="images/paste-3973BFDF.png" width="614" alt=""><p class="caption">Figure 12: Coreference chain for the action of
staying up late</p>
</div>
<p>In the file we are working with, chunks corresponding to tracks are
mostly referential expressions like pronouns and noun phrases. As is
visible in Figure 12, we include predicates and clauses when there are
referential expressions that co-refer with them; for example,
<em>this</em> and <em>stay up late</em> both refer to the action of
staying up late here.</p>
<p>The second type of chunks is called ‘blank chunks’. These chunks do
not belong to any trail and appear with grey rectangular borders with
angled corners around them. In this file, verbal complexes are marked as
blank chunks. The following figure shows some examples of these verbal
chunks:</p>
<div class="figure">
<img src="images/paste-18EEFFB5.png" width="666" alt=""><p class="caption">Figure 13: Some examples of ‘blank chunks’,
indicating verbal complexes</p>
</div>
<p>In this example (Figure 13), auxiliaries, negation and similar
elements expressing verbal categories are placed inside these verbal
complexes, such as <em>wasn’t gonna</em> in <em>wasn’t gonna
do</em>.</p>
<p>Chunks have been tagged for two properties inside Rezonator. The
field <code>chunkType</code> is annotated as <code>verb</code> for verbs
and left blank for referential expressions, allowing us to distinguish
between the two when importing into <code>rezonateR</code> later. The
field <code>largerChunk</code> is the larger chunk to which a chunk
belongs, which will be discussed later. These two columns are shown in
the navigation pane of Rezonator as follows:</p>
<div class="figure">
<img src="images/paste-F4175735.png" alt=""><p class="caption">Figure 14: The navigation pane showing two chunk
properties, <code>chunkType</code> and <code>largerChunk</code></p>
</div>
<p>In Figure 14, <em>said</em> and <em>wasn’t gonna do</em> are verbal
complexes and hence tagged as <em>verb</em> under
<code>chunkType</code>, the first column on the right side of Figure 15
(without grey shading). The other expressions have blank values,
indicating that they are referential expressions. The second column on
the right side, <code>largerChunk</code>, is annotated for chunks 67 and
68 as ‘2’, indicating that they are part of the same larger chunk that
will be merged in <code>rezonateR</code>, as we will soon see.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="importing-the-file">Importing the file<a class="anchor" aria-label="anchor" href="#importing-the-file"></a>
</h2>
<p>The first step is to import the file. When importing a file, an
object called <code>rezrObj</code> is created. <code>rezrObj</code>
contains two kinds of elements:</p>
<ul>
<li>A <code>nodeMap</code>, which contains the data in the form of a
series of interconnected nodes with attributes. For example, each token
in a Rezonator file is represented by a node in the node map, which
contains information such as the text of the token itself, its position
inside the document, and so on.</li>
<li>A series of <code>rezrDF</code>s, which are data frames containing
information about different elements of the file, such as tokens, units,
trails and so on. Each row is one instance of that entity (token, unit,
etc.) whereas each column gives an attribute of that entity.</li>
</ul>
<p>In this tutorial, we will only work with <code>rezrDF</code>s. Some
important <code>rezrDF</code>s include:</p>
<ul>
<li><p><code>tokenDF</code>, which contains the information about
individual tokens of the original file</p></li>
<li><p><code>unitDF</code>, which contains information about individual
units</p></li>
<li><p><code>chunkDF</code>, which contains information about
chunks</p></li>
<li><p><code>trailDF</code>, which contains information about trails
(i.e. coreference chains).</p></li>
<li><p><code>trackDF</code>, which contains information about entries of
trails (i.e. mentions in coreference chains).</p></li>
</ul>
<p>During the import process, we will need to specify two types of
information:</p>
<ul>
<li>
<p><strong>How to divide the chunks into layers</strong>: Recall
that there are two types of chunks in this file: referential expressions
and verbs. We would like to keep this information in separate data
frames so that we can easily access all chunks of each type in the same
place, without being distracted by the other chunk type. So, we divide
the chunks into two layers, <code>verb</code> and <code>refexpr</code>
(for ‘referential expressions’, including the entire clauses we’ve seen
before). Chunks in the two layers will be put into two separate
<code>rezrDF</code>s.</p>
<p>In some situations, it is useful to specify layers for other elements
like tracks, trails and trees as well. In this tutorial, however, we
only have one type of each of these elements. Since no layers are
specified for <code>trackDF</code> and <code>treeDF</code>, there will
be only one <code>rezrDF</code> for them, with the layer name
<code>default</code>. The same applies to data frames associated with
tracks and trees, including <code>trailDF</code> and
<code>treeEntryDF</code>: They will all have a single layer named
<code>default</code>, since there are no layers specified for
them.</p>
</li>
<li>
<p><strong>Which fields of a token contains text to be
concatenated:</strong> When you are browsing data frames containing data
structures above the level of a token, such as
<code>chunkDF</code>or<code>unitDF</code>, you want to be able to see
the text. For example, take the following line:</p>
<div class="figure">
<img src="images/paste-5FB50E2C.png" width="444" alt=""><p class="caption">Figure 15: A unit containing the chunk *’m also going
to suggest*</p>
</div>
<p>When browsing the <code>unitDF</code>, you would want to see all the
text in this unit, <em>(…) (H) I ’m also going to suggest ,</em>, in one
of the columns. Similarly, when browsing <code>chunkDF</code>, you would
want a column that gives you <em>’m also going to suggest</em>. Thus, we
have to tell Rezonator where to look for the textual content of
individual tokens so that they can be concatenated in the
<code>rezrDF</code>s for higher structures like chunks and
units.</p>
</li>
</ul>
<p>Here is the full import code. The field <code>layerRegex</code>
provides information about layers, and <code>concatFields</code>
contains information about text concatenation.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rezonators.github.io/rezonateR/">rezonateR</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: readr</span></span>
<span><span class="co">#&gt; Loading required package: stringr</span></span>
<span><span class="co">#&gt; Loading required package: rlang</span></span>
<span><span class="va">path</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"sbc007.rez"</span>, package <span class="op">=</span> <span class="st">"rezonateR"</span>, mustWork <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span></span>
<span><span class="va">layerRegex</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chunk <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>field <span class="op">=</span> <span class="st">"chunkType"</span>,</span>
<span>                               regex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"verb"</span><span class="op">)</span>,</span>
<span>                               names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"verb"</span>, <span class="st">"refexpr"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">concatFields</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"text"</span>, <span class="st">"transcript"</span><span class="op">)</span></span>
<span><span class="va">rez007</span> <span class="op">=</span> <span class="fu"><a href="../reference/importRez.html">importRez</a></span><span class="op">(</span><span class="va">path</span>,</span>
<span>                   layerRegex <span class="op">=</span> <span class="va">layerRegex</span>,</span>
<span>                   concatFields <span class="op">=</span> <span class="va">concatFields</span><span class="op">)</span></span>
<span><span class="co">#&gt; Import starting - please be patient ...</span></span>
<span><span class="co">#&gt; Creating node maps ...</span></span>
<span><span class="co">#&gt; Creating rezrDFs ...</span></span>
<span><span class="co">#&gt; Adding foreign fields to rezrDFs and sorting (this is the slowest step) ...</span></span>
<span><span class="co">#&gt; &gt;Adding to unit entry DF ...</span></span>
<span><span class="co">#&gt; &gt;Adding to unit DF ...</span></span>
<span><span class="co">#&gt; &gt;Adding to chunk DF ...</span></span>
<span><span class="co">#&gt; &gt;Adding to track DFs ...</span></span>
<span><span class="co">#&gt; &gt;Adding to track DFs ...</span></span>
<span><span class="co">#&gt; &gt;Adding to tree DFs ...</span></span>
<span><span class="co">#&gt; Splitting rezrDFs into layers ...</span></span>
<span><span class="co">#&gt; A few finishing touches ...</span></span>
<span><span class="co">#&gt; Done!</span></span></code></pre></div>
<p>As examples of the content inside the imported object, here are the
imported <code>chunkDF</code> members and <code>trackDF</code>. Notice
that the <code>chunkDF</code> is divided into two (<code>refexpr</code>
and <code>verb</code>):</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">chunkDF</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">select</span>, <span class="va">id</span>, <span class="va">doc</span>, <span class="va">text</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $refexpr</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 76 × 3</span></span></span>
<span><span class="co">#&gt;    id            doc    text                                    </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 35E3E0AB6803A sbc007 Stay up late                            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 1F6B5F0B3FF59 sbc007 the purpose of getting up in the morning</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 24FE2B219BD21 sbc007 getting up in the morning               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 158B579C1BA49 sbc007 the morning                             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2F857247FD9D5 sbc007 a hard habit to break                   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2B6521E881365 sbc007 all this other shit                     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 5B854594DD34  sbc007 the way (...) they were feeling         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 189552EBB1B7A sbc007 the only ones cleaning the house        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 313D141E6D8AA sbc007 the house                               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 1E970FF5D93B4 sbc007 all this other shit                     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 66 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ Use `print(n = ...)` to see more rows</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $verb</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 126 × 3</span></span></span>
<span><span class="co">#&gt;    id            doc    text             </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 210FB26A315A  sbc007 said             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 744AD104FE64  sbc007 was n't gon na do</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 1A14BB68EDAC9 sbc007 defeats          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2CCD5F5A950BE sbc007 know             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 1F1135429F347 sbc007 's               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 30F18BABDB83C sbc007 do n't           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 94188DEA38BB  sbc007 is               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 13A37EC5064A2 sbc007 do n't stay      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 5A4983D707E8  sbc007 's               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 29C877785FC4B sbc007 'm               </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 116 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ Use `print(n = ...)` to see more rows</span></span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">doc</span>, <span class="va">chain</span>, <span class="va">token</span>, <span class="va">text</span>, <span class="va">gapWords</span>, <span class="va">charCount</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 7</span></span></span>
<span><span class="co">#&gt;   id            doc    chain         token         text         gapWords charC…¹</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 1096E4AFFFE65 sbc007 278D0D84814BC 37EFCBECFD691 I            N/A            1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 92F20ACA5F06  sbc007 278D0D84814BC 936363B71D59  I            2              1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 1F74D2B049FA4 sbc007 2A01379C5D049 126598FC7249C this         N/A            4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2485C4F740FC0 sbc007 278D0D84814BC 21133B0FAAF04 &lt;0&gt;          10             3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 1BF2260B4AB78 sbc007 2A01379C5D049 35E3E0AB6803A Stay up late 5             12</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 6B37B5A80F2A  sbc007 2A01379C5D049 233E8BD5D62BB &lt;0&gt;          5              3</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with abbreviated variable name ¹​charCount</span></span></span></code></pre></div>
<p>More information about the import process, including how to specify
the two pieces of information for import and the various objects created
by the import process, can be found in the <a href="https://rezonators.github.io/rezonateR/articles/import_save_basics.html">detailed
tutorial on imports and data structure</a>
(<code><a href="../articles/import_save_basics.html">vignette("import_save_basics")</a></code>).</p>
<p>Each line of the table <code>rez007$trackDF$default</code> above
contains a referential expression whose size we want to predict. The
goal of using <code>rezonateR</code> for this project will be to produce
a version of the data frame <code>rez007$trackDF</code> that contains
all the predictors and the dependent variable on each line, and may be
fed to models such as <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code>.</p>
<p>You can save the <code>rezrObj</code> with <code><a href="../reference/saveload.html">rez_save()</a></code> so
that it can be opened with <code><a href="../reference/saveload.html">rez_load()</a></code> next time, saving you
the trouble of importing again:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">savePath</span> <span class="op">=</span> <span class="st">"rez007.Rdata"</span></span>
<span><span class="fu"><a href="../reference/saveload.html">rez_save</a></span><span class="op">(</span><span class="va">rez007</span>, <span class="va">savePath</span><span class="op">)</span></span>
<span><span class="co">#&gt; Saving rezrObj ...</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="sequence-and-order-of-entities-in-discourse">Sequence and order of entities in discourse<a class="anchor" aria-label="anchor" href="#sequence-and-order-of-entities-in-discourse"></a>
</h2>
<p>After importing the file, there are a few simple operations that we
usually call to add additional information to the table which was not
added during the original import process, before beginning the process
of editing. In this section, we will perform two actions that relate to
the sequence and order of entities in discourse. We will first defining
which tokens are ‘words’ and add corresponding sequence information, and
adding unit sequence information to non-unit tables.</p>
<div class="section level3">
<h3 id="words-vs-tokens">Words vs tokens<a class="anchor" aria-label="anchor" href="#words-vs-tokens"></a>
</h3>
<p>By default Rezonator provides two fields related to the position of a
token, which you will see in <code>tokenDF</code> as columns:</p>
<ul>
<li>
<code>docTokenSeq</code> - refers to the position of a token within
the entire text</li>
<li>
<code>tokenOrder</code> - refers to the position of a token within
its unit (in this file, this refers to intonation units)</li>
</ul>
<p>Structures that span multiple tokens, like chunks and units, have
four token sequence-related fields:</p>
<ul>
<li>
<code>docTokenSeqFirst</code> - refers to the
<code>docTokenSeq</code> of the first token. That is, what is the
position of the first token of the chunk, unit, etc. within the
text?</li>
<li>
<code>docTokenSeqLast</code> - refers to the
<code>docTokenSeq</code> of the last token. That is, what is the
position of the last token of the chunk, unit, etc. within the
text?</li>
<li>
<code>tokenOrderFirst</code> - refers to the <code>tokenOrder</code>
of the first token. That is, what is the position of the first token of
the chunk, unit, etc. within the unit?</li>
<li>
<code>tokenOrderLast</code> - refers to the <code>tokenOrder</code>
of the last token. That is, what is the position of the first token of
the chunk, unit, etc. within the unit?</li>
</ul>
<p>Here are some examples:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">tokenDF</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">text</span>, <span class="va">tokenOrder</span>, <span class="va">docTokenSeq</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 4</span></span></span>
<span><span class="co">#&gt;   id            text  tokenOrder docTokenSeq</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 31F282855E95E (...)          1           1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 363C1D373B2F7 God            2           2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 3628E4BD4CC05 ,              3           3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 37EFCBECFD691 I              1           4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 12D67756890C1 said           2           5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 936363B71D59  I              3           6</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">chunkDF</span><span class="op">$</span><span class="va">refexpr</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">text</span>, <span class="va">tokenOrderFirst</span>, <span class="va">tokenOrderLast</span>,  <span class="va">docTokenSeqFirst</span>, <span class="va">docTokenSeqLast</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 6</span></span></span>
<span><span class="co">#&gt;   id            text                             token…¹ token…² docTo…³ docTo…⁴</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 35E3E0AB6803A Stay up late                           3       5      17      19</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 1F6B5F0B3FF59 the purpose of getting up in th…       5      12      25      32</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 24FE2B219BD21 getting up in the morning              8      12      28      32</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 158B579C1BA49 the morning                           11      12      31      32</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2F857247FD9D5 a hard habit to break                  5       9      42      46</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2B6521E881365 all this other shit                    2       5     144     147</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with abbreviated variable names ¹​tokenOrderFirst, ²​tokenOrderLast,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ³​docTokenSeqFirst, ⁴​docTokenSeqLast</span></span></span></code></pre></div>
<p>These values count all tokens in the file, including non-word tokens.
In the Santa Barbara Corpus text we are using, there are various types
of non-word tokens that these values will count. For example, in the
following screenshot:</p>
<div class="figure">
<img src="img/sample_convo.PNG" alt="Figure 7: Units and tokens." style="width:74.0%"><p class="caption">Figure 16: Units and tokens.</p>
</div>
<p>Values like <code>doctokenSeq</code> include in their counting
various tokens that are not exactly words. This includes endnotes (such
as <code>,</code> and <code>.</code>), which, as we discussed before,
denote the intonational contours of IUs. Also included are pauses like
<code>(...)</code>, <em>vocalisms</em> - sounds we make during speech
that are often considered paralinguistic such as <code>(H)</code> for
in-breaths and <code>@@@</code> for laughter - and so on.</p>
<p>What if we want a version of fields like <code>tokenOrder</code> and
<code>docTokenSeq</code> that excludes these non-word tokens, including
just ‘real’ words like <em>stay</em> (line 9) and <em>midnight</em>
(line 11)? To do this, we have to first tell Rezonator how to define
what a ‘word’ is. We can use the function <code><a href="../reference/addIsWordField.html">addIsWordField()</a></code>
to do this:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span> <span class="op">=</span> <span class="fu"><a href="../reference/addIsWordField.html">addIsWordField</a></span><span class="op">(</span><span class="va">rez007</span>, <span class="va">kind</span> <span class="op">==</span> <span class="st">"Word"</span><span class="op">)</span></span></code></pre></div>
<p>This function adds a a column to the <code>tokenDF</code> that states
whether a token is a word, and in addition, it adds the fields
<code>wordOrder</code> and <code>docWordSeq</code> to
<code>tokenDF</code> (and also its counterparts in places like
<code>chunkDF</code> and <code>unitDF</code>,
e.g. <code>wordOrderFirst</code>, <code>wordOrderLast</code>,
<code>docWordSeqFirst</code>, <code>docWordSeqLast</code>). These are
counterparts of the <code>token</code>-related fields we have seen
above, except that these new fields discount non-real words, which get
the value <code>0</code>. Here’s an example in <code>tokenDF</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">tokenDF</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">text</span>, <span class="va">tokenOrder</span>, <span class="va">docTokenSeq</span>, <span class="va">wordOrder</span>, <span class="va">docWordSeq</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 6</span></span></span>
<span><span class="co">#&gt;   id            text  tokenOrder docTokenSeq wordOrder docWordSeq</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 31F282855E95E (...)          1           1         0          0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 363C1D373B2F7 God            2           2         1          1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 3628E4BD4CC05 ,              3           3         0          0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 37EFCBECFD691 I              1           4         1          2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 12D67756890C1 said           2           5         2          3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 936363B71D59  I              3           6         3          4</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="unit-sequence-information">Unit sequence information<a class="anchor" aria-label="anchor" href="#unit-sequence-information"></a>
</h3>
<p>When browsing <code>rezrDF</code>s, it is helpful to find out what
unit the element we are looking at belongs to (or units, if it spans
multiple units). However, this information is not added to
<code>rezrDF</code>s like <code>trackDF</code> or <code>chunkDF</code>
by default. The function <code><a href="../reference/addUnitSeq.html">addUnitSeq()</a></code> does this. Here,
<code>unitSeqFirst</code> and <code>unitSeqLast</code> are added to
<code>chunkDF</code> and <code>trackDF</code>, allowing us to see which
units chunks and tracks belong to:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span> <span class="op">=</span> <span class="fu"><a href="../reference/addUnitSeq.html">addUnitSeq</a></span><span class="op">(</span><span class="va">rez007</span>, <span class="st">"track"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">chunkDF</span><span class="op">$</span><span class="va">refexpr</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">text</span>, <span class="va">unitSeqFirst</span>, <span class="va">unitSeqLast</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 4</span></span></span>
<span><span class="co">#&gt;   id            text                                     unitSeqFirst unitSeqL…¹</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 35E3E0AB6803A Stay up late                                        3          3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 1F6B5F0B3FF59 the purpose of getting up in the morning            4          4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 24FE2B219BD21 getting up in the morning                           4          4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 158B579C1BA49 the morning                                         4          4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2F857247FD9D5 a hard habit to break                               6          6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2B6521E881365 all this other shit                                24         24</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with abbreviated variable name ¹​unitSeqLast</span></span></span></code></pre></div>
<p>For the details of these functions, see <a href="https://rezonators.github.io/rezonateR/articles/time_seq.html">the
tutorial on time and sequence</a>
(<code><a href="../articles/time_seq.html">vignette("time_seq")</a></code>).</p>
</div>
</div>
<div class="section level2">
<h2 id="pass-1-predicting-orthographic-length-of-referential-expressions-from-lookback-distance">Pass 1: Predicting orthographic length of referential expressions
from lookback distance<a class="anchor" aria-label="anchor" href="#pass-1-predicting-orthographic-length-of-referential-expressions-from-lookback-distance"></a>
</h2>
<p>After the initial process of importing and simple preprocessing, we
are now ready to explore the data and test our research hypotheses.</p>
<p>Recall that we would like to explore how factors related to the
accessibility of referents affects the length of the referential
expression chosen. One common way of operationalising accessibility is
<em>lookback distance</em>: When the referential expression was
produced, how long has it been since the previous mention? In this
section, we will use some default predictors created automatically by
Rezonator: <code>gapUnits</code> and <code>gapWords</code>.</p>
<div class="section level3">
<h3 id="gapunits-lookback-distance-in-r">
<code>gapUnits</code>: Lookback distance in R<a class="anchor" aria-label="anchor" href="#gapunits-lookback-distance-in-r"></a>
</h3>
<p>As you might have noticed when using Rezonator, Rezonator
automatically calculates the distance (in terms of intonation units)
from each track (mention) to the previous mention in the same trail
(coreference chain). This variable is called <code>gapUnits</code>, and
it is automatically imported from Rezonator into <code>rezonateR</code>
in <code>trackDF</code>. The <code>gapUnits</code> value is
<code>N/A</code> for first mentions of referents; otherwise it is a
nonnegative integer.</p>
<p>As an example, let’s look the trail for staying up late at the
beginning of the conversation again:</p>
<div class="figure">
<img src="images/paste-224A955C.png" width="598" alt=""><p class="caption">Figure 17: A trail containing four mentions of the
action of staying up late, spanning units 2-6.</p>
</div>
<p>If we consider the zero on line 4, <code>gapUnits</code> is just 1,
since the previous mention was right in the previous unit. The
<em>it</em> in the last line, line 6, should have a
<code>gapUnits</code> value of 2, since the previous mention was on line
4, which is two units away.</p>
<p>Because first mentions are usually not accessible in discourse when
they are first introduced, we can expect that they would be referred to
using longer noun phrases. Let’s try to verify that this is the case.
The following piece of code plots the length of first vs. non-first
mentions in the text using a violin plot. The y-axis shows the number of
characters inside each referential expression (<code>charCount</code>),
and there are two violins: One for first mentions and one for non-first
mentions. (Note that in this tutorial, the plot will be displayed
immediately after the code producing it. Moreover, this tutorial will
use some <code>tidyverse</code> functions, such as those from
<code>ggplot2</code>; feel free to click on any functions that you do
not recognise to see their documentation.)</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'ggplot2'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:rezonateR':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     %+%</span></span>
<span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>isFirst <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span><span class="va">gapUnits</span> <span class="op">==</span> <span class="st">"N/A"</span> <span class="op">~</span> <span class="st">"First"</span>,</span>
<span>                             <span class="cn">T</span> <span class="op">~</span> <span class="st">"NonFirst"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">isFirst</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_violin.html" class="external-link">geom_violin</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="sample_proj_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
<p>Clearly, we can see that first mentions have a much higher tendency
to be referred to using a noun phrase that has more characters. In fact,
non-first mentions are highly concentrated at the bottom of the graph
with the shortest referential expressions, whereas first mentions are
well spread out across the range of lengths.</p>
<p>Among the non-first mentions, can we also predict the character count
from <code>gapUnits</code>? Let’s again do a quick visualisation,
excluding first mentions. In the following plot, the the y-axis is gives
the character count, the x-axis the <code>gapUnits</code>, and the size
of the dots in the graph indicates the number of referential expressions
with that combination of <code>charCount</code> and
<code>gapUnits</code>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">gapUnits</span> <span class="op">!=</span> <span class="st">"N/A"</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>gapUnits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="va">gapUnits</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">gapUnits</span>, y <span class="op">=</span> <span class="va">charCount</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_count.html" class="external-link">geom_count</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="sample_proj_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
<p>Oh no, what’s going on? It seems that <code>gapUnits</code> is not
predicting what we would usually expect to see. Most of the
long-<code>gapUnits</code> noun phrases are fairly light, and there are
quite a few small-<code>gapUnits</code> phrases that are quite long.
This seems to go against the usual expectation that a shorter lookback
distance leads to higher accessibility and should be associated with
shorter referential forms.</p>
<p>The bottom left of the above diagram was a little messy; we can log
the character count to get a better view:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">gapUnits</span> <span class="op">!=</span> <span class="st">"N/A"</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>gapUnits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="va">gapUnits</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">gapUnits</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_count.html" class="external-link">geom_count</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="sample_proj_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
<p>There is still a slight visible pattern whereby longer gapUnits tends
to be associated with shorter character counts, contrary to
expectation.</p>
<p>In the rest of the tutorial, we will partially account for this
weirdness (though some of it is certainly due to our small, biased
dataset). But for now, let’s try to apply a simple linear model to this
data to see what happens when we try to predict the logged
<code>charCount</code> from <code>gapUnits</code>. (Note: This is not
the best model specification for the data we’re looking at, but let’s
keep it simple for this tutorial.)</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pass1_model1</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">gapUnits</span> <span class="op">!=</span> <span class="st">"N/A"</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>gapUnits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="va">gapUnits</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span> <span class="op">~</span> <span class="va">gapUnits</span>, <span class="va">.</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">pass1_model1</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = log(charCount) ~ gapUnits, data = .)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;     Min      1Q  Median      3Q     Max </span></span>
<span><span class="co">#&gt; -1.2557 -0.5473 -0.1419  0.1648  2.6715 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;              Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)  1.255666   0.088784   14.14   &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; gapUnits    -0.015183   0.009549   -1.59    0.114    </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 0.9945 on 162 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.01537,    Adjusted R-squared:  0.009288 </span></span>
<span><span class="co">#&gt; F-statistic: 2.528 on 1 and 162 DF,  p-value: 0.1138</span></span></code></pre></div>
<p>As we can see, although there is a negative coefficient that says a
larger <code>gapUnits</code> leads to a smaller character count (as
expected from our graph - though contrary to our usual expectations), it
is not significant.</p>
</div>
<div class="section level3">
<h3 id="a-finer-grained-distance-metric">A finer-grained distance metric?<a class="anchor" aria-label="anchor" href="#a-finer-grained-distance-metric"></a>
</h3>
<p>There is another value, <code>gapWords</code>, that is automatically
calculated in Rezonator and calculates the number of tokens from the
current mention to the previous one. Would this finer-grained measure be
a better operationalisation of lookback distance than
<code>gapUnits</code>? Let’s try to make the same plot that we just did
with logged <code>charCount</code>, except with <code>gapWords</code>
instead of <code>gapUnits</code> on the x-axis:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">gapWords</span> <span class="op">!=</span> <span class="st">"N/A"</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>gapWords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="va">gapWords</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">gapWords</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_count.html" class="external-link">geom_count</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="sample_proj_files/figure-html/unnamed-chunk-13-1.png" width="700"></p>
<p>The pattern is not much clearer from the diagram this time than last
time. We still don’t see our expected effect: A shorter lookback
distance should be associated with shorter referential expressions.
Let’s try to put <code>gapWords</code> again into the linear regression
model:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pass1_model2</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">gapWords</span> <span class="op">!=</span> <span class="st">"N/A"</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>gapWords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="va">gapWords</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span> <span class="op">~</span> <span class="va">gapWords</span>, <span class="va">.</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">pass1_model2</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = log(charCount) ~ gapWords, data = .)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;     Min      1Q  Median      3Q     Max </span></span>
<span><span class="co">#&gt; -1.2475 -0.5457 -0.1385  0.1687  2.6668 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;              Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)  1.252092   0.089134  14.047   &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; gapWords    -0.002299   0.001546  -1.487    0.139    </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 0.9955 on 162 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.01346,    Adjusted R-squared:  0.007371 </span></span>
<span><span class="co">#&gt; F-statistic:  2.21 on 1 and 162 DF,  p-value: 0.139</span></span></code></pre></div>
<p>As we can see, there is little change with the linear model either:
The negative coefficient indicates that a shorter <code>gapWords</code>
is associated with longer referential expressions, contrary to usual
expectations, although the relationship is not significant, with a
p-value around 0.14.</p>
<p>There are ways we can potentially improve on these measures as well
as other predictors of character count that we can potentially explore.
We’ll continue doing this throughout the tutorial.</p>
</div>
</div>
<div class="section level2">
<h2 id="pass-2-adding-predictors-of-referential-expression-length-with-easytrack">Pass 2: Adding predictors of referential expression length with
EasyTrack<a class="anchor" aria-label="anchor" href="#pass-2-adding-predictors-of-referential-expression-length-with-easytrack"></a>
</h2>
<p>Having attempted to predict character count from predictors imported
directly from Rezonator, let’s try to derive some predictors using
<code>rezonateR</code> functions too. This section will cover some basic
functions in the <code>EasyTrack</code> series of functions, which is
dedicated to analysing coreference phenomena. See the <a href="https://rezonators.github.io/rezonateR/articles/track.html">tutorial
on coreference</a> (<code><a href="../articles/track.html">vignette("track")</a></code>) for details about
them.</p>
<p>In particular, we will try to count the <em>number</em> of previous
mentions instead of the distance to the previous mention, and also try
to count the number of mentions to <em>different</em> entities in the
surrounding context. We will also try to improve on
<code>gapWords</code> to see if modifying its operationalisation a
little will be more revealing of the effect of lookback distance.</p>
<div class="section level3">
<h3 id="counting-previous-mentions">Counting previous mentions<a class="anchor" aria-label="anchor" href="#counting-previous-mentions"></a>
</h3>
<p>Apart from the number of intonation units to the previous instance
that an entity was mentioned, the number of previous mentions within a
specified time window may also affect accessibility: An entity that was
just mentioned in the previous intonation unit but never before that
might conceivably be less accessible than one that was just mentioned in
the previous intonation unit as well as several intonation units before
that.</p>
<p>The function <code><a href="../reference/trackPrevContext.html">countPrevMentions()</a></code> in
<code>rezonateR</code> is one function we can use to count the number of
times the referent of a referential expression was referred to in its
previous context. In its simplest form, you can simply specify a window
of units in which to look for referential expressions that corefer with
the each mention.</p>
<p>In this example, we will look at a window of 10 previous units. Refer
to the following example:</p>
<div class="figure">
<img src="images/paste-E52A7A24.png" width="586" alt=""><p class="caption">Figure 18: A trail containing five mentions of the
action of staying up late, spanning units 2-8.</p>
</div>
<p>If we consider the <em>it</em> on the last line (line 8), among the
previous 10 units (actually seven, since there are only seven preceding
units), there have been four mentions of the action of staying up late,
so the value we expect to get from this function is 4. If we had set the
window to five units instead, the value would be only 3, since the first
mention on line 2, <em>this</em>, is not within the five-unit
window.</p>
<p>We will add the previous mention count to the <code>trackDF</code>
using the <code><a href="../reference/rez_mutate.html">rez_mutate()</a></code> function, which is part of the <a href="https://rezonators.github.io/rezonateR/articles/edit_tidyRez.html">TidyRez
family</a> (<code><a href="../articles/edit_tidyRez.html">vignette("edit_tidyRez")</a></code>). (We use this
function rather than <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">dplyr::mutate()</a></code> in order to ensure
that the resulting data frame will remain in the correct
<code>rezonateR</code> format.) Here is the code, along with a line of
code that displays the first couple of values of this predictor:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rez_mutate.html">rez_mutate</a></span><span class="op">(</span>noPrevMentionsIn10 <span class="op">=</span> <span class="fu"><a href="../reference/trackPrevContext.html">countPrevMentions</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">text</span>, <span class="va">noPrevMentionsIn10</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 20 × 3</span></span></span>
<span><span class="co">#&gt;    id            text                                     noPrevMentionsIn10</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                 <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 1096E4AFFFE65 I                                                         0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 92F20ACA5F06  I                                                         0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 1F74D2B049FA4 this                                                      0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2485C4F740FC0 &lt;0&gt;                                                       2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 1BF2260B4AB78 Stay up late                                              1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 6B37B5A80F2A  &lt;0&gt;                                                       2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 259C2C2979B6C the purpose of getting up in the morning                  0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 1D1F2B7054E32 getting up in the morning                                 0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 1FA3806680C84 the morning                                               0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 4B32FD84BA10  I                                                         0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> 3098AB24A0FA6 it                                                        3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> 2D5885FCA1E15 a hard habit to break                                     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> 1C311FD331AC4 I                                                         1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> 2E01153F693D3 It                                                        4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> 28CFE0272CE1C I                                                         2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> 24229602BDC4C I                                                         3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span> 1A598AE39592B midnight                                                  0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">18</span> 38C628AB4DA4D What                                                      0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">19</span> 36B8918BB6E64 I                                                         2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">20</span> 17608A48A8CCB I                                                         2</span></span></code></pre></div>
<p>Now that we have counted the number of previous mentions, let’s try
to draw a scatterplot, as we have done before, with the y-axis being
character count and the x-axis giving the number of previous mentions in
the ten preceding units:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">gapWords</span> <span class="op">!=</span> <span class="st">"N/A"</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">noPrevMentionsIn10</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_count.html" class="external-link">geom_count</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="sample_proj_files/figure-html/unnamed-chunk-16-1.png" width="700"></p>
<p>From the graph, we see that there <em>is</em> a tendency for
character counts to be smaller when the number of previous mentions is
greater, albeit somewhat weak. The very large referential expressions
are absent when there are more than five previous mentions, and after
about five mentions, we can see the modal character length decreasing as
well.</p>
<p>Now let’s fit a linear model plotting this predictor against logged
<code>charCount</code></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pass2_model1</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">gapWords</span> <span class="op">!=</span> <span class="st">"N/A"</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span> <span class="op">~</span> <span class="va">noPrevMentionsIn10</span>, <span class="va">.</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">pass2_model1</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = log(charCount) ~ noPrevMentionsIn10, data = .)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;     Min      1Q  Median      3Q     Max </span></span>
<span><span class="co">#&gt; -1.4496 -0.5282 -0.2095  0.2356  2.9213 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;                    Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)         1.44958    0.11432  12.680  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; noPrevMentionsIn10 -0.11472    0.03732  -3.074  0.00248 ** </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 0.9742 on 162 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.05512,    Adjusted R-squared:  0.04929 </span></span>
<span><span class="co">#&gt; F-statistic: 9.451 on 1 and 162 DF,  p-value: 0.002478</span></span></code></pre></div>
<p>From the linear model, we also find that the number of previous
mentions in the previous 10 units <em>is</em> a significant predictor at
the 0.05 significance level. It seems that pure lookback distance is not
enough - we need to look beyond the previous mention. This might be a
suggestion that a single mention of something - even close by - is not
sufficient warrant to produce a shorter expression. Instead, we need to
consider how often it has been mentioned.</p>
<p>Now that we’ve tried two different operationalisations of the idea
that something more prominent in the previous context should be more
salient and referred to using a simpler form, let’s try to explore other
possible predictors of referential choice.</p>
</div>
<div class="section level3">
<h3 id="counting-competitors">Counting competitors<a class="anchor" aria-label="anchor" href="#counting-competitors"></a>
</h3>
<p>So far we have been focusing on previous mentions to the
<em>same</em> referent as the referential expression we’re trying to
predict. But mentions to <em>other</em> entities might also affect the
accessibility of a certain referent. If there are many mentions to
entities other than the target entity we’re trying to refer to, they
might present distractions and <em>lower</em> the accessibility of the
target entity. In this section, we will explore this possibility.</p>
<p>The function <code><a href="../reference/countCompete.html">countCompetitors()</a></code> is similar to
<code><a href="../reference/trackPrevContext.html">countPrevMentions()</a></code>, except that it counts the number of
referential expressions that are <em>not</em> in the same coreference
chain, i.e. compete for the interlocutors’ attention. The syntax is
similar to <code><a href="../reference/trackPrevContext.html">countPrevMentions()</a></code>, with the extra argument
<code>between</code>, which specifies whether you want to count only
expressions between the current mention and the previous one.</p>
<p>We will again be using a window of 10 units, and will not be looking
only at mentions between the current and previous one. Let’s look at the
first seven lines of the text again to see how many competitors the
<em>it</em> on line 8, referring to staying up late, has:</p>
<div class="figure">
<img src="images/paste-E203783D.png" width="512" alt=""><p class="caption">Figure 19: Competing mentions to the <em>it</em>,
referring to the action of staying up late, on line 8.</p>
</div>
<p>From the graph, there nine mentions previous mentions in the previous
10-unit window that belong to a different chain as <em>stay up
late,</em> so we expect that the value we get from
<code><a href="../reference/countCompete.html">countCompetitors()</a></code>will be 9.</p>
<p>We will add this value to the <code>trackDF</code> using the
<code><a href="../reference/rez_mutate.html">rez_mutate()</a></code> function again. So let’s try to add the number
of competitors now:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rez_mutate.html">rez_mutate</a></span><span class="op">(</span>noCompetitors <span class="op">=</span> <span class="fu"><a href="../reference/countCompete.html">countCompetitors</a></span><span class="op">(</span>windowSize <span class="op">=</span> <span class="fl">10</span>, between <span class="op">=</span> <span class="cn">F</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">text</span>, <span class="va">noCompetitors</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 20 × 3</span></span></span>
<span><span class="co">#&gt;    id            text                                     noCompetitors</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 1096E4AFFFE65 I                                                    0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 92F20ACA5F06  I                                                    0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 1F74D2B049FA4 this                                                 2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2485C4F740FC0 &lt;0&gt;                                                  1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 1BF2260B4AB78 Stay up late                                         3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 6B37B5A80F2A  &lt;0&gt;                                                  3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 259C2C2979B6C the purpose of getting up in the morning             6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 1D1F2B7054E32 getting up in the morning                            6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 1FA3806680C84 the morning                                          6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 4B32FD84BA10  I                                                    9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> 3098AB24A0FA6 it                                                   7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> 2D5885FCA1E15 a hard habit to break                               11</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> 1C311FD331AC4 I                                                   11</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> 2E01153F693D3 It                                                   9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> 28CFE0272CE1C I                                                   12</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> 24229602BDC4C I                                                   12</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span> 1A598AE39592B midnight                                            16</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">18</span> 38C628AB4DA4D What                                                 5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">19</span> 36B8918BB6E64 I                                                    5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">20</span> 17608A48A8CCB I                                                    3</span></span></code></pre></div>
<p>Now let’s try to draw a scatterplot and fit a linear model, as we
have done before:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">gapWords</span> <span class="op">!=</span> <span class="st">"N/A"</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">noCompetitors</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_count.html" class="external-link">geom_count</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="sample_proj_files/figure-html/unnamed-chunk-19-1.png" width="700"></p>
<p>If we focus on the bottom half of the graph where the bulk of the
data are lying, there does seem to be a small effect where a greater
number of competitors leads to the use of more characters. Above around
16 competitors, it is much less common to have very short (length &lt;
3) referential expressions. Let’s put the number of competitors in our
linear model now:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pass2_model1</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">gapWords</span> <span class="op">!=</span> <span class="st">"N/A"</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span> <span class="op">~</span> <span class="va">noCompetitors</span>, <span class="va">.</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">pass2_model1</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = log(charCount) ~ noCompetitors, data = .)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;     Min      1Q  Median      3Q     Max </span></span>
<span><span class="co">#&gt; -1.7746 -0.5822 -0.2122  0.3404  2.4543 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;               Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)    0.44969    0.19316   2.328   0.0211 *  </span></span>
<span><span class="co">#&gt; noCompetitors  0.06624    0.01601   4.138 5.62e-05 ***</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 0.9532 on 162 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.09559,    Adjusted R-squared:  0.09001 </span></span>
<span><span class="co">#&gt; F-statistic: 17.12 on 1 and 162 DF,  p-value: 5.618e-05</span></span></code></pre></div>
<p>As we can see from here, there is a small effect whereby a larger
number of competitors is associated the use of longer referential
expressions, which is just as we expect. However, we shouldn’t conclude
so soon that the data supports our hypothesis that competitors affect
accessibility.</p>
<p>There is good reason to believe that <code>noCompetitors</code> and
<code>noPrevMentionsIn10</code> may be highly correlated, and thus some
of the effect we see for <code>noCompetitors</code> may actually due to
a confounding factor: the presence of previous mentions, or vice versa.
This is because of there are more non-coreferring expressions in the
previous units, there will tend to be fewer coreferential expressions,
assuming that the number of referential expressions is relatively
stable, i.e. our two competitors are negatively correlated are
negatively correlated. The code below plots them in a graph and
calculates the Pearson correlation coefficient:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">gapWords</span> <span class="op">!=</span> <span class="st">"N/A"</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">noCompetitors</span>, y <span class="op">=</span> <span class="va">noPrevMentionsIn10</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_count.html" class="external-link">geom_count</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Pearson correlation: "</span>,</span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span><span class="op">$</span><span class="va">noCompetitors</span>, <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span><span class="op">$</span><span class="va">noPrevMentionsIn10</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="sample_proj_files/figure-html/unnamed-chunk-21-1.png" width="700"></p>
<p>As we can see, there is a weak but clear negative correlation between
the number of mentions and the number of compoetitors in the previous
context. So let’s try to put both in the model and how the results turn
out:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pass2_model3</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">gapWords</span> <span class="op">!=</span> <span class="st">"N/A"</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span> <span class="op">~</span> <span class="va">noCompetitors</span> <span class="op">+</span> <span class="va">noPrevMentionsIn10</span>, <span class="va">.</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">pass2_model3</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = log(charCount) ~ noCompetitors + noPrevMentionsIn10, </span></span>
<span><span class="co">#&gt;     data = .)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;     Min      1Q  Median      3Q     Max </span></span>
<span><span class="co">#&gt; -1.7640 -0.5630 -0.2240  0.3856  2.4626 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;                    Estimate Std. Error t value Pr(&gt;|t|)   </span></span>
<span><span class="co">#&gt; (Intercept)         0.72853    0.24992   2.915  0.00406 **</span></span>
<span><span class="co">#&gt; noCompetitors       0.05518    0.01713   3.221  0.00154 **</span></span>
<span><span class="co">#&gt; noPrevMentionsIn10 -0.06807    0.03907  -1.742  0.08338 . </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 0.9472 on 161 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.1123, Adjusted R-squared:  0.1013 </span></span>
<span><span class="co">#&gt; F-statistic: 10.19 on 2 and 161 DF,  p-value: 6.828e-05</span></span></code></pre></div>
<p>As we can see, once we put both in the model,
<code>noCompetitors</code> becomes the only significant predictor. Of
course, this does not mean that <code>noPrevMentionsIn10</code> does not
matter; we only have very low power, after all. In any case, both
coefficient estimates are in the expected direction: The larger the
number of previous mentions and smaller the number of competitors, the
shorter the form.</p>
<p>In case lookback distance and number of recent mentions have
independent effects, let’s also try the lookback-based approach by
adding <code>gapUnits</code> to the model as well:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pass2_model4</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">gapWords</span> <span class="op">!=</span> <span class="st">"N/A"</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>gapUnits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">gapUnits</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span> <span class="op">~</span> <span class="va">noCompetitors</span> <span class="op">+</span> <span class="va">noPrevMentionsIn10</span> <span class="op">+</span> <span class="va">gapUnits</span>, <span class="va">.</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">pass2_model4</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = log(charCount) ~ noCompetitors + noPrevMentionsIn10 + </span></span>
<span><span class="co">#&gt;     gapUnits, data = .)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;     Min      1Q  Median      3Q     Max </span></span>
<span><span class="co">#&gt; -1.9230 -0.5088 -0.2052  0.4195  2.4367 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;                     Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)         0.914363   0.247319   3.697 0.000299 ***</span></span>
<span><span class="co">#&gt; noCompetitors       0.061045   0.016642   3.668 0.000332 ***</span></span>
<span><span class="co">#&gt; noPrevMentionsIn10 -0.112180   0.039802  -2.818 0.005435 ** </span></span>
<span><span class="co">#&gt; gapUnits           -0.033354   0.009506  -3.509 0.000585 ***</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 0.9156 on 160 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.1757, Adjusted R-squared:  0.1603 </span></span>
<span><span class="co">#&gt; F-statistic: 11.37 on 3 and 160 DF,  p-value: 8.421e-07</span></span></code></pre></div>
<p>Interestingly, this time, all three predictors are significant or
close to significant. The first two are in expected directions: having
more competitors leads to longer referential expressions, whereas more
recent mentions makes the form smaller. However, the
<code>gapUnits</code> effect is still in the opposite direction as we
expect: The greater the gap, the smaller the referential expression!
This does not appear to make sense. We will continue to improve this
model in the following sections to see what happens to
<code>gapUnits</code>.</p>
</div>
<div class="section level3">
<h3 id="upgrading-gapwords">Upgrading <code>gapWords</code><a class="anchor" aria-label="anchor" href="#upgrading-gapwords"></a>
</h3>
<p>There’s an additional thing we could do. The <code>gapWords</code> in
Rezonator actually has a couple of problems and unexpected behaviour.
For example, it treats zeroes as belonging to the position you put the
<code>&lt;0&gt;</code> in (which is arbitrary), and it counts non-words
such as pauses, breaths or laughter, which you might not want to
count.</p>
<p>To use the example of staying up late again, refer to the following
screenshot:</p>
<div class="figure">
<img src="images/paste-3973BFDF.png" alt="Figure 11: Coreference chain for the action of staying up late" width="614"><p class="caption">Figure 20: Coreference chain for the action of
staying up late</p>
</div>
<p>Currently, the <code>gapWords</code> value for the second mention,
<em>stay up late</em>, would be 5. However, you might not want to count
the period on line 2 or the pause and zero on line 3 in the calculation
of <code>gapWords</code>.</p>
<p>Let’s try to use the <code>rezonateR</code> function
<code><a href="../reference/trackPrevContext.html">tokensToLastMention()</a></code> instead to deal with these issues. In
this sample code, we will treat <code>&lt;0&gt;</code> as belonging to
the end of the intonation unit they are annotated at, and define
<code>docWordSeqLast</code> as the token sequence used in calculation,
thus discounting non-words:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rez_mutate.html">rez_mutate</a></span><span class="op">(</span>gapWordsNew <span class="op">=</span> <span class="fu"><a href="../reference/trackPrevContext.html">tokensToLastMention</a></span><span class="op">(</span>tokenOrder <span class="op">=</span> <span class="va">docWordSeqLast</span>,</span>
<span>                                               unitDF <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">unitDF</span>,</span>
<span>                                               zeroProtocol <span class="op">=</span> <span class="st">"unitFinal"</span>,</span>
<span>                                               zeroCond <span class="op">=</span> <span class="op">(</span><span class="va">text</span> <span class="op">==</span> <span class="st">"&lt;0&gt;"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">text</span>, <span class="va">gapWordsNew</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 236 × 3</span></span></span>
<span><span class="co">#&gt;    id            text                                     gapWordsNew</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 1096E4AFFFE65 I                                                 <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 92F20ACA5F06  I                                                 <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 1F74D2B049FA4 this                                              <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2485C4F740FC0 &lt;0&gt;                                                6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 1BF2260B4AB78 Stay up late                                       0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 6B37B5A80F2A  &lt;0&gt;                                               13</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 259C2C2979B6C the purpose of getting up in the morning          <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 1D1F2B7054E32 getting up in the morning                         <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 1FA3806680C84 the morning                                       <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 4B32FD84BA10  I                                                 <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 226 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ Use `print(n = ...)` to see more rows</span></span></span></code></pre></div>
<p>Now we can put this new <code>gapWords</code> into the model:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pass2_model5</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">gapWords</span> <span class="op">!=</span> <span class="st">"N/A"</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>gapUnits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">gapUnits</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span> <span class="op">~</span> <span class="va">noCompetitors</span> <span class="op">+</span> <span class="va">noPrevMentionsIn10</span> <span class="op">+</span> <span class="va">gapWordsNew</span>, <span class="va">.</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">pass2_model5</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = log(charCount) ~ noCompetitors + noPrevMentionsIn10 + </span></span>
<span><span class="co">#&gt;     gapWordsNew, data = .)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;     Min      1Q  Median      3Q     Max </span></span>
<span><span class="co">#&gt; -1.7712 -0.5631 -0.2307  0.3834  2.4534 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;                     Estimate Std. Error t value Pr(&gt;|t|)   </span></span>
<span><span class="co">#&gt; (Intercept)         0.743495   0.263924   2.817  0.00548 **</span></span>
<span><span class="co">#&gt; noCompetitors       0.054772   0.017540   3.123  0.00214 **</span></span>
<span><span class="co">#&gt; noPrevMentionsIn10 -0.067691   0.040293  -1.680  0.09497 . </span></span>
<span><span class="co">#&gt; gapWordsNew        -0.006661   0.004308  -1.546  0.12407   </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 0.9325 on 155 degrees of freedom</span></span>
<span><span class="co">#&gt;   (5 observations deleted due to missingness)</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.1246, Adjusted R-squared:  0.1076 </span></span>
<span><span class="co">#&gt; F-statistic: 7.351 on 3 and 155 DF,  p-value: 0.0001224</span></span></code></pre></div>
<p>This has no significant effect, unfortunately, so it does not seem
that <code>gapWords</code> is a useful predictor after all.</p>
</div>
<div class="section level3">
<h3 id="sequential-position-of-tracks-in-trails">Sequential position of tracks in trails<a class="anchor" aria-label="anchor" href="#sequential-position-of-tracks-in-trails"></a>
</h3>
<p>A final variable we could add to the model is the sequential position
of a track within a trail, which might also contribute to accessibility
in a different way by giving the overall discourse prominent, rather
than just a local effect. We might expect that the second mention of a
referent, for example, might be longer than a fifth mention. We can get
this variable using <code><a href="../reference/getPosInChain.html">getPosInChain()</a></code>:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rez_mutate.html">rez_mutate</a></span><span class="op">(</span>seqInTrail <span class="op">=</span> <span class="fu"><a href="../reference/getPosInChain.html">getPosInChain</a></span><span class="op">(</span>tokenOrder <span class="op">=</span> <span class="va">docWordSeqLast</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">name</span>, <span class="va">text</span>, <span class="va">seqInTrail</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">head</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 4</span></span></span>
<span><span class="co">#&gt;   id            name            text         seqInTrail</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 1096E4AFFFE65 Mary            I                     2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 92F20ACA5F06  Mary            I                     3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 1F74D2B049FA4 Staying up late this                  2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2485C4F740FC0 Mary            &lt;0&gt;                   1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 1BF2260B4AB78 Staying up late Stay up late          3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 6B37B5A80F2A  Staying up late &lt;0&gt;                   1</span></span></code></pre></div>
<p>Now we can plot the character count against this value in a
graph:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">gapWords</span> <span class="op">!=</span> <span class="st">"N/A"</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">seqInTrail</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_count.html" class="external-link">geom_count</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="sample_proj_files/figure-html/unnamed-chunk-27-1.png" width="700"></p>
<p>It does seem that larger character counts are much rare as the
<code>seqInTrail</code> value gets larger. Let’s put the variable inside
our model and see what happens:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pass2_model5</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">gapWords</span> <span class="op">!=</span> <span class="st">"N/A"</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>gapUnits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">gapUnits</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span> <span class="op">~</span> <span class="va">noCompetitors</span> <span class="op">+</span> <span class="va">noPrevMentionsIn10</span> <span class="op">+</span> <span class="va">gapWordsNew</span> <span class="op">+</span> <span class="va">seqInTrail</span>, <span class="va">.</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">pass2_model5</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = log(charCount) ~ noCompetitors + noPrevMentionsIn10 + </span></span>
<span><span class="co">#&gt;     gapWordsNew + seqInTrail, data = .)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;     Min      1Q  Median      3Q     Max </span></span>
<span><span class="co">#&gt; -1.2599 -0.5751 -0.2264  0.4249  2.0727 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;                     Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)         0.934727   0.240570   3.885 0.000151 ***</span></span>
<span><span class="co">#&gt; noCompetitors       0.061113   0.015882   3.848 0.000174 ***</span></span>
<span><span class="co">#&gt; noPrevMentionsIn10  0.032174   0.040037   0.804 0.422873    </span></span>
<span><span class="co">#&gt; gapWordsNew        -0.008776   0.003908  -2.246 0.026140 *  </span></span>
<span><span class="co">#&gt; seqInTrail         -0.047256   0.007887  -5.991 1.42e-08 ***</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 0.8425 on 154 degrees of freedom</span></span>
<span><span class="co">#&gt;   (5 observations deleted due to missingness)</span></span>
<span><span class="co">#&gt; Multiple R-squared:   0.29,  Adjusted R-squared:  0.2716 </span></span>
<span><span class="co">#&gt; F-statistic: 15.73 on 4 and 154 DF,  p-value: 8.177e-11</span></span></code></pre></div>
<p>It turns out that <code>seqInTrail</code> is a significant variable,
and in the expected direction: The farther along we are in a trail, the
shorter the form of the referential expression.
<code>noPrevMentionsIn10</code>, which we can expect is quite highly
correlated to <code>seqInTrail</code> especially in smaller chains, is
no longer significant.</p>
<p>Now that we have explored the <code>EasyTrack</code> family of
functions a little bit, let us explore the other options in
<code>rezonateR</code> that allow us to extract other types of
predictors.</p>
</div>
</div>
<div class="section level2">
<h2 id="pass-3-full-analysis-of-predictors-of-orthographic-length-in-our-dataset">Pass 3: Full analysis of predictors of orthographic length in our
dataset<a class="anchor" aria-label="anchor" href="#pass-3-full-analysis-of-predictors-of-orthographic-length-in-our-dataset"></a>
</h2>
<p>Now that we have seen how <code>rezonateR</code>can handle simple
operations involving entities in context, let’s move on to perform more
complex operations within <code>rezonateR</code>and see how it can
further our analysis of referential choice in the dataset. This section
will showcase several features of <code>rezonateR</code>, including:</p>
<ul>
<li><p>How to merge chunks spanning multiple units into larger
chunks</p></li>
<li><p>How to handle information about argument structure</p></li>
<li><p>How to perform semi-automatic annotation in R, correct them
outside of R, and then import them back in</p></li>
</ul>
<div class="section level3">
<h3 id="merging-chunks">Merging chunks<a class="anchor" aria-label="anchor" href="#merging-chunks"></a>
</h3>
<p>You have likely suspected by now that there is something wrong with
our <code>gapUnits</code> measure. And you would be correct! There
<em>is</em> a mistake in how we have been approaching these
calculations.</p>
<p>Let’s look at some cases where <code>gapUnits</code> is very small,
but <code>charCount</code> is mysteriously very large, and see what’s
wrong with them. We’ll set the cutoff for <code>gapUnits</code> at 1,
and the cutoff for <code>charCount</code> at 20.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">gapUnits</span> <span class="op">&lt;=</span> <span class="fl">1</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">20</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">gapUnits</span>, <span class="va">charCount</span>, <span class="va">text</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 13 × 4</span></span></span>
<span><span class="co">#&gt;    id            gapUnits charCount text                                        </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 32B3B0A84E33A 1               31 the way (...) they were feeling             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 3519769420DAC 0               32 the only ones cleaning the house            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 7F10C1AC0F34  1               40 (...) I wan na &lt;0&gt; spend time with Ron ,    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 13BC3AE5EFE95 1               50 (...) usually does n't get home till nine o…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> EAB21F94F477  1               30 nobody fucks with my lifestyle              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 1343DF2A28886 0               25 what I 'm gon na tell him                   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 1B482778AB561 1               37 is if we have respect for one another       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 16CD0137BC332 0               23 respect for one another                     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 36A2C171D5FFE 1               45 and (...) &lt;0&gt; complaining about one another…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 129168B539994 1               29 a real good lesson for them ,               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> 231F6E448A5E7 1               29 (...) in self assertiveness ,               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> 2B6BFAD147A96 1               35 uncomfortable situation or whatever         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> 1D420E1E56CE5 1               31 the thing that really scares me</span></span></code></pre></div>
<p>Notice that some of these cases do not seem to be actual referential
expressions. Some of these cases are legitimate; for example, <em>nobody
fucks with my lifestyle</em> happens to have been referred to by a
cataphorical <em>it</em>:</p>
<div class="figure">
<img src="images/paste-AA63E6C5.png" width="437" alt=""><p class="caption">Figure 21: A case of cataphoric <em>it</em> creating
an exception to the general rule that shorter <code>gapUnits</code> is
associated with shorter length.</p>
</div>
<p>Since this is a case of cataphora and one of the expressions is a
full clause, it is not surprising that it throws a monkey wrench into
our hypothesis that shorter <code>gapUnits</code> should lead to shorter
orthographic length, which is largely based on expectations about
<em>anaphora</em> - where expressions refer to things mentioned
<em>before</em> them - not cataphora, where an expression points to
something mentioned later in the utterance. (This also applies to
<em>stay up late</em> in Figure 20.)</p>
<p>However, the case of <em>(…) in self assertiveness ,</em> is an
error. The problem is that in Rezonator, it is not possible to create
chunks that span multiple units. We can only create individual chunks
for each unit. So in this screenshot, <em>a real good lesson for them
,</em>, <em>too ,</em>, and <em>(…) in self assertiveness ,</em> are
three separate chunks, when they should really only be a single
chunk:</p>
<div class="figure">
<img src="images/paste-F5ED0106.png" width="430" alt=""><p class="caption">Figure 22: A case where three separates should in
reality be treated as a single chunk.</p>
</div>
<p>This created a situation where <em>(…) in self assertiveness</em> is
mistakenly taken as long referential expression that occurred right
after a previous mention <em>too ,</em>.</p>
<p><code>rezonateR</code> is equipped with the ability to combine
several chunks inside the file into one larger chunk. Before we do this,
though, we need to spice up our data frames with information from trees,
which will provide us with some of the information helpful for merging
chunks together. This will also be helpful for other types of operations
later on too, so let’s take a look at this feature.</p>
<div class="section level4">
<h4 id="adding-tree-information">Adding tree information<a class="anchor" aria-label="anchor" href="#adding-tree-information"></a>
</h4>
<p>In Rezonator, trees are structures used to indicate syntactic or
semantic relationships between words/chunks and other words/chunks. Each
tree starts from a <em>root</em>. When a word/chunk depends on another
word/chunk, the first word/chunk is said to be a ‘child’ of the second
one, and the second one is said to be a ‘parent’ of the first one.</p>
<p>In ths file we’re working with, there are a number of two-layered
trees that indicate argument structure of each verb. The ‘root’ of each
tree is the verb, and the arguments are the children of that root. The
following figure shows the argument structure of Line 4, with
<em>defeats</em> as the root with three children: a zero subject, the
object <em>the purpose of getting up in the morning</em>, and the adverb
<em>kinda</em>:</p>
<div class="figure">
<img src="img/sample_tree.PNG" style="width:100.0%" alt=""><p class="caption">Figure 23: An example of a tree in our file.</p>
</div>
<p>The four ‘nodes’ in this tree are known as <code>treeEntry</code>
objects in Rezonator, and the three links between them, shown by an
arrow in the screenshot, is called a <code>treeLink</code>. These links
are tagged with the field <code>Relation</code>. In this file, tree
links are annotated as <code>Relation</code> = <code>"Subject"</code>
when it indicates a subject-verb relation; otherwise
<code>Relation</code> is left blank.</p>
<p>Inside Rezonator, there are no direct links between
<code>treeEntry</code> objects and entities like tracks and chunks. The
function <code><a href="../reference/getAllTreeCorrespondences.html">getAllTreeCorrespondences()</a></code> adds a column
<code>treeEntry</code> to tables like <code>chunkDF</code> and
<code>trackDF</code>, giving the ID of the corresponding entry in the
table <code>treeEntryDF</code>. Here is an example:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span> <span class="op">=</span> <span class="fu"><a href="../reference/getAllTreeCorrespondences.html">getAllTreeCorrespondences</a></span><span class="op">(</span><span class="va">rez007</span>, entity <span class="op">=</span> <span class="st">"track"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">tokenDF</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">text</span>, <span class="va">treeEntry</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 3</span></span></span>
<span><span class="co">#&gt;   id            text  treeEntry      </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 31F282855E95E (...) <span style="color: #949494;">""</span>             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 363C1D373B2F7 God   <span style="color: #949494;">""</span>             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 3628E4BD4CC05 ,     <span style="color: #949494;">""</span>             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 37EFCBECFD691 I     <span style="color: #949494;">"</span>E5564F08F4F8<span style="color: #949494;">"</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 12D67756890C1 said  <span style="color: #949494;">"</span>29A7D8B395830<span style="color: #949494;">"</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 936363B71D59  I     <span style="color: #949494;">"</span>163E211526284<span style="color: #949494;">"</span></span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">chunkDF</span><span class="op">$</span><span class="va">refexpr</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">text</span>, <span class="va">treeEntry</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 3</span></span></span>
<span><span class="co">#&gt;   id            text                                     treeEntry     </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 35E3E0AB6803A Stay up late                             <span style="color: #949494;">""</span>            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 1F6B5F0B3FF59 the purpose of getting up in the morning <span style="color: #949494;">"</span>5195D71DEA12<span style="color: #949494;">"</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 24FE2B219BD21 getting up in the morning                <span style="color: #949494;">""</span>            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 158B579C1BA49 the morning                              <span style="color: #949494;">""</span>            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2F857247FD9D5 a hard habit to break                    <span style="color: #949494;">"</span>20BC922B7D9F<span style="color: #949494;">"</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2B6521E881365 all this other shit                      <span style="color: #949494;">""</span></span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">text</span>, <span class="va">treeEntry</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 3</span></span></span>
<span><span class="co">#&gt;   id            text         treeEntry      </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 1096E4AFFFE65 I            <span style="color: #949494;">"</span>E5564F08F4F8<span style="color: #949494;">"</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 92F20ACA5F06  I            <span style="color: #949494;">"</span>163E211526284<span style="color: #949494;">"</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 1F74D2B049FA4 this         <span style="color: #949494;">"</span>6FB5A1CE1B70<span style="color: #949494;">"</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2485C4F740FC0 &lt;0&gt;          <span style="color: #949494;">"</span>277C335C33462<span style="color: #949494;">"</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 1BF2260B4AB78 Stay up late <span style="color: #949494;">""</span>             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 6B37B5A80F2A  &lt;0&gt;          <span style="color: #949494;">"</span>341674AFA7B54<span style="color: #949494;">"</span></span></span></code></pre></div>
<p>This will be useful later on for other things as well, not just for
merging chunks.</p>
</div>
<div class="section level4">
<h4 id="merging-chunks-with-trees-vs--ids">Merging chunks with trees vs. IDs<a class="anchor" aria-label="anchor" href="#merging-chunks-with-trees-vs--ids"></a>
</h4>
<p>There are two functions for merging chunks in
<code>rezonateR</code>:</p>
<ul>
<li>
<p><code><a href="../reference/mergeChunksWithTree.html">mergeChunksWithTree()</a></code>: If there is a treeEntry that
corresponds to the concatenation of multiple chunks, then we merge those
chunks. For example, in the screenshots below, <em>(H) &lt;0&gt; going
to (…) our parents ,</em> and <em>and (…) &lt;0&gt; complaining about
one another</em> are in separate chunks. However, they correspond to one
single tree entry, as we can see here.</p>
<p><img src="images/paste-D742A118.png" width="497"></p>
<div class="figure">
<img src="images/paste-0C261A8B.png" width="483" alt=""><p class="caption">Figure 24: An example where two chunks that should
belong together can be merged using the fact that they belong to the
same tree entry.</p>
</div>
</li>
<li>
<p><code><a href="../reference/mergeChunksWithIDs.html">mergeChunksWithIDs()</a></code>: We merge chunks by assigning
IDs to individual chunks that indicate the merged chunk it is supposed
to belong to. In this dataset, this is done in the field
<code>largerChunk</code> on chunks. For example, the first chunk you
create this way may have the ID 1, the second chunk 2, the third chunk 3
and so on. In this case, all the component chunks of the first complex
chunk should have the value <code>1</code> for <code>largerChunk</code>
and so on.</p>
<p>We can use this technique in action for merging the same two chunks
we saw in Figure 24:</p>
<div class="figure">
<img src="images/paste-65C42935.png" alt=""><p class="caption">Figure 25: The same two chunks that need to be merged
into a single chunk have been annotated as `largeChunk = 2`, indicating
that they belong in the same larger chunk.</p>
</div>
</li>
</ul>
<p>The new chunks will be added to the bottom of <code>chunkDF</code>.
In addition, <code>chunkDF</code> will have an extra column
<code>combinedChunk</code> giving information about chunk
combinations:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span> <span class="op">=</span> <span class="fu"><a href="../reference/mergeChunksWithIDs.html">mergeChunksWithIDs</a></span><span class="op">(</span><span class="va">rez007</span>, <span class="st">"largerChunk"</span><span class="op">)</span></span>
<span><span class="va">rez007</span> <span class="op">=</span> <span class="fu"><a href="../reference/mergeChunksWithTree.html">mergeChunksWithTree</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">)</span></span>
<span><span class="co">#Show combined referential expressions</span></span>
<span><span class="va">rez007</span><span class="op">$</span><span class="va">chunkDF</span><span class="op">$</span><span class="va">refexpr</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">combinedChunk</span> <span class="op">!=</span> <span class="st">""</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">text</span>, <span class="va">combinedChunk</span><span class="op">)</span> <span class="co">#Showing only combined chunks and their members</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 16 × 3</span></span></span>
<span><span class="co">#&gt;    id            text                                                    combi…¹</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 35FF0224B1912 when Ron gets home from work ,                          |infom…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 55AD2E602A48  (...) I wan na &lt;0&gt; spend time with Ron ,                |membe…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 318D89D0DBBFC because Ron ,                                           |membe…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 10341554175A3 (...) usually does n't get home till nine or ten .      |membe…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 17F9B5FA4252A the only way it 's gon na work ,                        |infom…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 33044BB3F044  is if we have respect for one another                   |membe…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> DDF62DAF4C20  (H) &lt;0&gt; going to (...) our parents ,                    |infom…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 33FBE08224498 and (...) &lt;0&gt; complaining about one another ,           |membe…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2C2FB52C1A11  a real good lesson for them ,                           |infom…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> E818EBA6CB78  too ,                                                   |membe…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> 2A382D1098989 (...) in self assertiveness ,                           |membe…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> Y645SVK0yBhsd the only way it 's gon na work , is if we have respect… combin…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> luZVQfONr5khW (H) &lt;0&gt; going to (...) our parents , and (...) &lt;0&gt; com… combin…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> xSbAo1lCGEkwa a real good lesson for them , too , (...) in self asse… combin…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> tEa0zA8ZFj6mJ when Ron gets home from work , (...) I wan na &lt;0&gt; spen… combin…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> yHaTg6IRso4B8 (H) &lt;0&gt; going to (...) our parents , and (...) &lt;0&gt; com… combin…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with abbreviated variable name ¹​combinedChunk</span></span></span></code></pre></div>
<p>The function <code><a href="../reference/mergedChunksToTrack.html">mergedChunksToTrack()</a></code> puts this information
in the <code>trackDF</code> too:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span> <span class="op">=</span> <span class="fu"><a href="../reference/mergedChunksToTrack.html">mergedChunksToTrack</a></span><span class="op">(</span><span class="va">rez007</span>, <span class="st">"default"</span><span class="op">)</span></span>
<span><span class="co">#Show combined track members</span></span>
<span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">combinedChunk</span> <span class="op">!=</span> <span class="st">""</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">name</span>, <span class="va">text</span>, <span class="va">combinedChunk</span><span class="op">)</span> <span class="co">#Showing only combined chunks and their members</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 16 × 4</span></span></span>
<span><span class="co">#&gt;    id            name                           text                     combi…¹</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 22834A0D49440 what they don't realize        when Ron gets home from… |infom…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 7F10C1AC0F34  what they don't realize        (...) I wan na &lt;0&gt; spen… |membe…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 7EC72BA4D81A  what they don't realize        because Ron ,            |membe…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 13BC3AE5EFE95 what they don't realize        (...) usually does n't … |membe…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 24AF3536F90A3 having respect for one another the only way it 's gon … |infom…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 1B482778AB561 having respect for one another is if we have respect f… |membe…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 33520A5F1B256 complaining about one another  (H) &lt;0&gt; going to (...) … |infom…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 36A2C171D5FFE complaining about one another  and (...) &lt;0&gt; complaini… |membe…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 129168B539994 weekly house meetings          a real good lesson for … |infom…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 144636EDDE11B weekly house meetings          too ,                    |membe…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> 231F6E448A5E7 weekly house meetings          (...) in self assertive… |membe…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> hHkOKm8bdUQwx having respect for one another the only way it 's gon … combin…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> bT146P8Nf3KJR complaining about one another  (H) &lt;0&gt; going to (...) … combin…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> ewiQYTOvIf8B5 weekly house meetings          a real good lesson for … combin…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> Gks4LaHP7ibo3 what they don't realize        when Ron gets home from… combin…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> W7pjxw0rdyvZG complaining about one another  (H) &lt;0&gt; going to (...) … combin…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with abbreviated variable name ¹​combinedChunk</span></span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="gapunits-take-two">
<code>gapUnits</code>, take two<a class="anchor" aria-label="anchor" href="#gapunits-take-two"></a>
</h3>
<p>Now that we have merged some of these chunks, it’s time to redo the
<code>gapUnits</code> value to exclude ‘tracks’ that are in fact just
fragments of chunks that have now been merged. We can do this by using
the <code><a href="../reference/trackPrevContext.html">unitsToLastMention()</a></code> function. By setting the value of
<code>exclFrag</code> to <code>TRUE</code> (i.e. excluding fragments of
chunks), we create a new value of <code>gapUnits</code> that excludes
these dubious mentions:</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rez_mutate.html">rez_mutate</a></span><span class="op">(</span>gapUnitsNew <span class="op">=</span> <span class="fu"><a href="../reference/trackPrevContext.html">unitsToLastMention</a></span><span class="op">(</span>exclFrag <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>This new value <code>gapUnitsNew</code> has an <code>NA</code> value
for fragments of chunks, and also ignores them when calculating
<code>gapUnits</code>. Let’s try to plot the relationship between
<code>gapUnitsNew</code> and <code>charCount</code> again:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">gapUnitsNew</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>gapUnitsNew <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="va">gapUnitsNew</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">gapUnitsNew</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_count.html" class="external-link">geom_count</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="sample_proj_files/figure-html/unnamed-chunk-34-1.png" width="700"></p>
<p>While we still can’t see the expected effect, some of the outliers on
the top left of the graph are now gone.</p>
<p>The <code>noPrevMentionsIn10</code> and <code>noCompetitors</code>
columns can also be redone to ignore fragments:</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="../reference/rez_mutate.html">rez_mutate</a></span><span class="op">(</span>noPrevMentionsIn10 <span class="op">=</span> <span class="fu"><a href="../reference/trackPrevContext.html">countPrevMentions</a></span><span class="op">(</span><span class="fl">10</span>,</span>
<span>                                    exclFrag <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="../reference/rez_mutate.html">rez_mutate</a></span><span class="op">(</span>noCompetitors <span class="op">=</span> <span class="fu"><a href="../reference/countCompete.html">countCompetitors</a></span><span class="op">(</span>windowSize <span class="op">=</span> <span class="fl">10</span>, between <span class="op">=</span> <span class="cn">F</span>,</span>
<span>                                                exclFrag <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rez_mutate.html">rez_mutate</a></span><span class="op">(</span>seqInTrail <span class="op">=</span> <span class="fu"><a href="../reference/getPosInChain.html">getPosInChain</a></span><span class="op">(</span>tokenOrder <span class="op">=</span> <span class="va">docWordSeqLast</span>, exclFrag <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Now with the corrected data, let’s try to refit the linear model:</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pass3_model1</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">gapUnitsNew</span><span class="op">)</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span> <span class="op">~</span> <span class="va">noCompetitors</span> <span class="op">+</span> <span class="va">noPrevMentionsIn10</span> <span class="op">+</span> <span class="va">gapUnitsNew</span> <span class="op">+</span> <span class="va">seqInTrail</span>, <span class="va">.</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">pass3_model1</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = log(charCount) ~ noCompetitors + noPrevMentionsIn10 + </span></span>
<span><span class="co">#&gt;     gapUnitsNew + seqInTrail, data = .)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;     Min      1Q  Median      3Q     Max </span></span>
<span><span class="co">#&gt; -1.2484 -0.4789 -0.1551  0.3138  2.1004 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;                     Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)         1.108698   0.226902   4.886 2.66e-06 ***</span></span>
<span><span class="co">#&gt; noCompetitors       0.046969   0.015768   2.979  0.00339 ** </span></span>
<span><span class="co">#&gt; noPrevMentionsIn10 -0.034747   0.041505  -0.837  0.40385    </span></span>
<span><span class="co">#&gt; gapUnitsNew        -0.015561   0.008179  -1.903  0.05904 .  </span></span>
<span><span class="co">#&gt; seqInTrail         -0.034568   0.007567  -4.568 1.03e-05 ***</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 0.7793 on 147 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:   0.25,  Adjusted R-squared:  0.2296 </span></span>
<span><span class="co">#&gt; F-statistic: 12.25 on 4 and 147 DF,  p-value: 1.274e-08</span></span></code></pre></div>
<p>This time, <code>noCompetitors</code> is still significant. The
coefficient of <code>gapUnitsNew</code> is still in the ‘wrong’
direction, since a larger <code>gapUnitsNew</code> still leads to a
smaller referential expression, but the effect is not significant. The
predictor <code>noPrevMentionsin10</code> is also insignificant even
though the estimate is in the expected direction: The more the number of
previous mentions, the shorter the form. The predictor
<code>seqInTrail</code> is remains significant and in the expected
direction - the farther along in the chain, the shorter the form.</p>
<p>Are there any more predictors that we can consider testing? Let’s
consider the cases with small <code>gapUnits</code> but large character
counts again. It turns out that many of them are
<strong>predicates</strong> of copular clauses, like the following
example, which has the very long expression <em>what I’m gonna tell
him</em> coreferential to the subject <em>that</em>:</p>
<div class="figure">
<img src="images/paste-EA1377C0.png" width="530" alt=""><p class="caption">Figure 26: A screenshot of containing a copular
clause with the contracted copula <em>’s</em>. The referential
expression <em>what I’m gonna tell him</em> is very long, and is very
close to the previous mention, which is just the copular subject.</p>
</div>
<p>There is in fact some discussion on whether predicates should count
as referential expressions at all. Many annotation schemes, such as
OntoNotes, exclude them, based on discussion in work like van Deemter
&amp; Kibble (2000); however, recent work has highlighted the potential
referring value of referential expressions (e.g. Zeldes 2022). Here, we
maintain the position that predicates should be marked as referential
expressions.</p>
<p>On the other hand, very few of the long referential expressions with
small <code>gapUnits</code> are subjects. This suggests that it will be
informative to test the effect of grammatical relations. Subjects are
likely to be biased towards shorter character counts, and predicates
towards longer ones. The two following sections will add these elements.
First we will add the <code>Relation</code> predictor, which is
annotated in the data and tells whether a referential expression is the
subject of a clause. Then we write code to automatically guess whether
something is a predicate.</p>
</div>
<div class="section level3">
<h3 id="adding-information-about-verbs-and-argument-structure">Adding information about verbs and argument structure<a class="anchor" aria-label="anchor" href="#adding-information-about-verbs-and-argument-structure"></a>
</h3>
<p>Now let’s add the <code>Relation</code> variable, which determines
whether a certain referential expression is the subject of a verb, a
factor frequently argued to be increasing accessibility (e.g. Arnold
2008). To do this, we use <code><a href="../reference/acFieldForeign.html">addFieldForeign()</a></code>, which belongs
to the <code>EasyEdit</code> family of functions covered in the <a href="https://rezonators.github.io/rezonateR/articles/edit_easyEdit.html">EasyEdit
tutorial</a> (<code><a href="../articles/edit_easyEdit.html">vignette("edit_easyEdit")</a></code>). Recall that we’ve
put a <code>treeEntry</code> column in <code>trackDF</code> that gives
the ID of the corresponding tree entry. The following code looks into
<code>treeEntryDF</code>, finds the <code>Relation</code> value
corresponding to a <code>treeEntry</code>, and adds it to
<code>trackDF</code>, allowing us to know whether each referential
expression is a subject:</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span> <span class="op">=</span> <span class="va">rez007</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/acFieldForeign.html">addFieldForeign</a></span><span class="op">(</span><span class="st">"track"</span>, <span class="st">"default"</span>, <span class="st">"treeEntry"</span>, <span class="st">"default"</span>, <span class="st">"treeEntry"</span>, <span class="st">"Relation"</span>, <span class="st">"Relation"</span>, fieldaccess <span class="op">=</span> <span class="st">"foreign"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">track</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">chain</span>, <span class="va">text</span>, <span class="va">treeEntry</span>, <span class="va">Relation</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 5</span></span></span>
<span><span class="co">#&gt;   id            chain         text         treeEntry       Relation</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 1096E4AFFFE65 278D0D84814BC I            <span style="color: #949494;">"</span>E5564F08F4F8<span style="color: #949494;">"</span>  <span style="color: #BB0000;">NA</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 92F20ACA5F06  278D0D84814BC I            <span style="color: #949494;">"</span>163E211526284<span style="color: #949494;">"</span> Subj    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 1F74D2B049FA4 2A01379C5D049 this         <span style="color: #949494;">"</span>6FB5A1CE1B70<span style="color: #949494;">"</span>  <span style="color: #BB0000;">NA</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2485C4F740FC0 278D0D84814BC &lt;0&gt;          <span style="color: #949494;">"</span>277C335C33462<span style="color: #949494;">"</span> Subj    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 1BF2260B4AB78 2A01379C5D049 Stay up late <span style="color: #949494;">""</span>              <span style="color: #BB0000;">NA</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 6B37B5A80F2A  2A01379C5D049 &lt;0&gt;          <span style="color: #949494;">"</span>341674AFA7B54<span style="color: #949494;">"</span> Subj</span></span></code></pre></div>
<p>We can also replace the <code>NA</code> values in
<code>Relation</code> by <code>"NonSubj"</code>, and turn it into a
factor with <code><a href="../reference/stringToFactor.html">stringToFactor()</a></code> so that it can be used in
modelling:</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/rez_mutate.html">rez_mutate</a></span><span class="op">(</span>Relation <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/coalesce.html" class="external-link">coalesce</a></span><span class="op">(</span><span class="va">Relation</span>, <span class="st">"NonSubj"</span><span class="op">)</span>, fieldaccess <span class="op">=</span> <span class="st">"flex"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/stringToFactor.html">stringToFactor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Relation"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>We can now plot the <code>charCount</code> values of subjects and
non-subjects:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">gapUnitsNew</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Relation</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_violin.html" class="external-link">geom_violin</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="sample_proj_files/figure-html/unnamed-chunk-39-1.png" width="700"></p>
<p>The pattern overwhelmingly supports our hypothesis that subjects
should be more accessible that nonsubjects, and hence be referred to
using a shorter referential expression.</p>
<p>Now let’s see what <code>Relation</code> turns up if we put it in the
linear model:</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pass3_model2</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">gapUnitsNew</span><span class="op">)</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span> <span class="op">~</span> <span class="va">noCompetitors</span> <span class="op">+</span> <span class="va">noPrevMentionsIn10</span> <span class="op">+</span> <span class="va">gapUnitsNew</span> <span class="op">+</span> <span class="va">seqInTrail</span> <span class="op">+</span> <span class="va">Relation</span>, <span class="va">.</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">pass3_model2</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = log(charCount) ~ noCompetitors + noPrevMentionsIn10 + </span></span>
<span><span class="co">#&gt;     gapUnitsNew + seqInTrail + Relation, data = .)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;      Min       1Q   Median       3Q      Max </span></span>
<span><span class="co">#&gt; -1.36224 -0.52377 -0.09135  0.35711  1.84910 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;                     Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)         1.438244   0.221384   6.497 1.21e-09 ***</span></span>
<span><span class="co">#&gt; noCompetitors       0.039285   0.014743   2.665  0.00857 ** </span></span>
<span><span class="co">#&gt; noPrevMentionsIn10 -0.021789   0.038677  -0.563  0.57405    </span></span>
<span><span class="co">#&gt; gapUnitsNew        -0.014069   0.007610  -1.849  0.06651 .  </span></span>
<span><span class="co">#&gt; seqInTrail         -0.031291   0.007067  -4.428 1.85e-05 ***</span></span>
<span><span class="co">#&gt; RelationSubj       -0.592829   0.120827  -4.906 2.45e-06 ***</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 0.7245 on 146 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.3561, Adjusted R-squared:  0.3341 </span></span>
<span><span class="co">#&gt; F-statistic: 16.15 on 5 and 146 DF,  p-value: 1.168e-12</span></span></code></pre></div>
<p>As we can see, subjects are likely to be far shorter than
non-subjects. The variables <code>seqInTrail</code> and
<code>noCompetitors</code> remain significant.</p>
</div>
<div class="section level3">
<h3 id="adding-the-effect-of-predicatehood">Adding the effect of predicatehood<a class="anchor" aria-label="anchor" href="#adding-the-effect-of-predicatehood"></a>
</h3>
<p>We can now also add a variable to pick out predicates. There’s a
quick and dirty way to guess which referential expressions are
predicates: We can pick out those expressions that are arguments of
copulas, i.e. have a copula in the column <code>verbText</code>, and
also are not subjects. This will incorrectly pick out adjuncts of copula
clauses, but those are infrequent enough in our sample that we can get
away with it.</p>
<p>In addition, referential expressions that don’t belong to any verb -
so-called ‘free NPs’ (Helasvuo 2019), with ‘free’ meaning ‘free from a
verb’ - are often also predicate-like in behaviour, such as the
multiline chunk we’ve seen before:</p>
<div class="figure">
<img src="images/paste-F5ED0106.png" alt="Figure 6" width="430"><p class="caption">Figure 27: An example of a free NP.</p>
</div>
<p>So we can also include them as ‘predicates’ as good measure. Let’s
call the resulting column <code>isPredOrFree</code>. (Note that this
incorrectly picks out phrases that are parts of prepositional phrases as
well, but again, there are few enough of these that we can get away with
it.)</p>
<p>The first step in this process is to add information about the verb
to the <code>trackDF</code>. The following code adds two columns,
<code>verbID</code> and <code>verbText</code>, to the
<code>trackDF</code>, which tell us the chunk ID and text of the verb
that the referential expression depends on (for example, in <em>I saw
you</em>, the referential expressions <em>I</em> and <em>you</em> would
contain information about <em>saw</em>). This process is a bit
complicated; see the <a href="https://rezonators.github.io/rezonateR/articles/track.html">tutorial
on coreference</a> <code><a href="../articles/track.html">vignette("track")</a></code> for a more detailed
explanation of what’s going on.</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span> <span class="op">=</span> <span class="va">rez007</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/acFieldForeign.html">addFieldForeign</a></span><span class="op">(</span><span class="st">"track"</span>, <span class="st">"default"</span>, <span class="st">"treeEntry"</span>, <span class="st">"default"</span>, <span class="st">"treeEntry"</span>, <span class="st">"treeParent"</span>, <span class="st">"parent"</span>, fieldaccess <span class="op">=</span> <span class="st">"foreign"</span><span class="op">)</span></span>
<span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rez_left_join.html">rez_left_join</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">chunkDF</span><span class="op">$</span><span class="va">verb</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">text</span>, <span class="va">treeEntry</span><span class="op">)</span>,</span>
<span>                by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>treeParent <span class="op">=</span> <span class="st">"treeEntry"</span><span class="op">)</span>,</span>
<span>                suffix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">"_verb"</span><span class="op">)</span>,</span>
<span>                df2Address <span class="op">=</span> <span class="st">"chunkDF/verb"</span>,</span>
<span>                fkey <span class="op">=</span> <span class="st">"treeParent"</span>,</span>
<span>                df2key <span class="op">=</span> <span class="st">"treeEntry"</span>,</span>
<span>                rezrObj <span class="op">=</span> <span class="va">rez007</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>verbID <span class="op">=</span> <span class="va">id_verb</span>, verbText <span class="op">=</span> <span class="va">text_verb</span><span class="op">)</span></span>
<span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">treeParent</span>, <span class="va">verbID</span>, <span class="va">verbText</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 20 × 4</span></span></span>
<span><span class="co">#&gt;    id            treeParent    verbID        verbText         </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 1096E4AFFFE65 3005263A8352B UfF94Z6PaElc5 said             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 92F20ACA5F06  35B1DC6EA25E5 744AD104FE64  was n't gon na do</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 1F74D2B049FA4 35B1DC6EA25E5 744AD104FE64  was n't gon na do</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2485C4F740FC0 27760709F2C9B <span style="color: #BB0000;">NA</span>            <span style="color: #BB0000;">NA</span>               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 1BF2260B4AB78 <span style="color: #BB0000;">NA</span>            <span style="color: #BB0000;">NA</span>            <span style="color: #BB0000;">NA</span>               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 6B37B5A80F2A  37FF92CF72A49 1A14BB68EDAC9 defeats          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 259C2C2979B6C 37FF92CF72A49 1A14BB68EDAC9 defeats          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 1D1F2B7054E32 <span style="color: #BB0000;">NA</span>            <span style="color: #BB0000;">NA</span>            <span style="color: #BB0000;">NA</span>               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 1FA3806680C84 <span style="color: #BB0000;">NA</span>            <span style="color: #BB0000;">NA</span>            <span style="color: #BB0000;">NA</span>               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 4B32FD84BA10  1CC3629361ED5 2CCD5F5A950BE know             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> 3098AB24A0FA6 1CAE658BC6B04 1F1135429F347 's               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> 2D5885FCA1E15 1CAE658BC6B04 1F1135429F347 's               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> 1C311FD331AC4 3342A614FCFB  30F18BABDB83C do n't           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> 2E01153F693D3 BCC81F077D99  94188DEA38BB  is               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> 28CFE0272CE1C 6B9C62B7793B  13A37EC5064A2 do n't stay      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> 24229602BDC4C 23BEEC722C8A0 29C877785FC4B 'm               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span> 1A598AE39592B <span style="color: #BB0000;">NA</span>            <span style="color: #BB0000;">NA</span>            <span style="color: #BB0000;">NA</span>               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">18</span> 38C628AB4DA4D EC3E7F082CF3  1981C9A8D5DD8 do               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">19</span> 36B8918BB6E64 EC3E7F082CF3  1981C9A8D5DD8 do               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">20</span> 17608A48A8CCB 12D1FF751C0C0 3052814F6CEBE ca n't</span></span></code></pre></div>
<p>Here’s the code for getting our variable <code>isPredOrFree</code>
from this:</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/rez_mutate.html">rez_mutate</a></span><span class="op">(</span>isPredOrFree <span class="op">=</span> <span class="op">(</span><span class="op">(</span></span>
<span>  <span class="va">verbText</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"is"</span>, <span class="st">"was"</span>, <span class="st">"were"</span>, <span class="st">"are"</span>, <span class="st">"am"</span>, <span class="st">"'s"</span>, <span class="st">"'m"</span>, <span class="st">"'re"</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">Relation</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">verbText</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/coalesce.html" class="external-link">coalesce</a></span><span class="op">(</span><span class="cn">F</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Now let’s compare the character counts of referential expressions
that are predicates or free, versus those that are not:</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">gapUnitsNew</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">isPredOrFree</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_violin.html" class="external-link">geom_violin</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="sample_proj_files/figure-html/unnamed-chunk-43-1.png" width="700"></p>
<p>As we can see, there is somewhat of a tendency where predicates and
free NPs are more likely to have very long character counts, compared to
referential expressions that are neither predicative nor free.</p>
<p>So let’s add <code>isPredOrFree</code> to the model to see if it
works as a predictor:</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pass3_model2</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">gapUnitsNew</span><span class="op">)</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span> <span class="op">~</span> <span class="va">noCompetitors</span> <span class="op">+</span> <span class="va">noPrevMentionsIn10</span> <span class="op">+</span> <span class="va">gapUnitsNew</span> <span class="op">+</span> <span class="va">seqInTrail</span> <span class="op">+</span> <span class="va">Relation</span> <span class="op">+</span> <span class="va">isPredOrFree</span>, <span class="va">.</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">pass3_model2</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = log(charCount) ~ noCompetitors + noPrevMentionsIn10 + </span></span>
<span><span class="co">#&gt;     gapUnitsNew + seqInTrail + Relation + isPredOrFree, data = .)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;      Min       1Q   Median       3Q      Max </span></span>
<span><span class="co">#&gt; -1.34843 -0.52406 -0.08984  0.35067  1.86366 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;                     Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)         1.480464   0.254853   5.809 3.83e-08 ***</span></span>
<span><span class="co">#&gt; noCompetitors       0.038794   0.014860   2.611 0.009985 ** </span></span>
<span><span class="co">#&gt; noPrevMentionsIn10 -0.022015   0.038801  -0.567 0.571325    </span></span>
<span><span class="co">#&gt; gapUnitsNew        -0.013886   0.007652  -1.815 0.071627 .  </span></span>
<span><span class="co">#&gt; seqInTrail         -0.031137   0.007103  -4.384 2.23e-05 ***</span></span>
<span><span class="co">#&gt; RelationSubj       -0.626455   0.156873  -3.993 0.000103 ***</span></span>
<span><span class="co">#&gt; isPredOrFreeTRUE   -0.052943   0.156820  -0.338 0.736153    </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 0.7267 on 145 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.3566, Adjusted R-squared:   0.33 </span></span>
<span><span class="co">#&gt; F-statistic:  13.4 on 6 and 145 DF,  p-value: 4.742e-12</span></span></code></pre></div>
<p>Unfortunately, <code>isPredOrFree</code> does not turn out to be a
significant predictor, and the p-value is very large. Subjecthood, it
seems, is enough.</p>
</div>
<div class="section level3">
<h3 id="splitting-up-noprevsubjmentions">Splitting up <code>noPrevSubjMentions</code><a class="anchor" aria-label="anchor" href="#splitting-up-noprevsubjmentions"></a>
</h3>
<p>Let’s see if we can improve upon our variables in any more ways. The
first thing we could do is to split up <code>noPrevMentionsIn10</code>
to see if there are differential effects of different types of previous
mentions that we are ignoring. It is often proposed in the literature
that subjects are more accessible than other types of arguments, and
when the previous mention is a subject, the expression will subsequently
be more accessible as well (e.g. Arnold 2008). So we could split up
previous mentions into previous subjects and previous non-subjects to
see whether they have different effects.</p>
<p>The function <code><a href="../reference/trackPrevContext.html">countPrevMentionsIf()</a></code> counts the number of
times that a referent was mentioned previously in a specified window of
units, along with the <code>TidyRez</code> function
<code><a href="../reference/rez_mutate.html">rez_mutate()</a></code> (note that for non-subjects, we allow
<code>Relation</code> to be <code>NA</code>):</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rez_mutate.html">rez_mutate</a></span><span class="op">(</span>noPrevSubjMentionsIn10 <span class="op">=</span> <span class="fu"><a href="../reference/trackPrevContext.html">countPrevMentionsIf</a></span><span class="op">(</span><span class="fl">10</span>, <span class="va">Relation</span> <span class="op">==</span> <span class="st">"Subj"</span>, exclFrag <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>             noPrevNonSubjMentionsIn10 <span class="op">=</span> <span class="fu"><a href="../reference/trackPrevContext.html">countPrevMentionsIf</a></span><span class="op">(</span><span class="fl">10</span>, <span class="va">Relation</span> <span class="op">!=</span> <span class="st">"Subj"</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">Relation</span><span class="op">)</span>, exclFrag <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">noPrevSubjMentionsIn10</span>, <span class="va">noPrevNonSubjMentionsIn10</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 20 × 3</span></span></span>
<span><span class="co">#&gt;    id            noPrevSubjMentionsIn10 noPrevNonSubjMentionsIn10</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>                     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 1096E4AFFFE65                      0                         0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 92F20ACA5F06                       0                         0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 1F74D2B049FA4                      0                         0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2485C4F740FC0                      1                         1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 1BF2260B4AB78                      0                         1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 6B37B5A80F2A                       0                         2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 259C2C2979B6C                      0                         0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 1D1F2B7054E32                      0                         0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 1FA3806680C84                      0                         0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 4B32FD84BA10                       0                         0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> 3098AB24A0FA6                      1                         2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> 2D5885FCA1E15                      0                         0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> 1C311FD331AC4                      1                         0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> 2E01153F693D3                      2                         2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> 28CFE0272CE1C                      2                         0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> 24229602BDC4C                      3                         0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span> 1A598AE39592B                      0                         0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">18</span> 38C628AB4DA4D                      0                         0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">19</span> 36B8918BB6E64                      2                         0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">20</span> 17608A48A8CCB                      2                         0</span></span></code></pre></div>
<p>Now that we’ve added these values to the table, we can rerun the
linear model, but with <code>noPrevMentionsIn10</code> split up:</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pass3_model2</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">gapUnitsNew</span><span class="op">)</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span> <span class="op">~</span> <span class="va">noCompetitors</span> <span class="op">+</span> <span class="va">noPrevSubjMentionsIn10</span> <span class="op">+</span> <span class="va">noPrevNonSubjMentionsIn10</span> <span class="op">+</span> <span class="va">gapUnitsNew</span> <span class="op">+</span> <span class="va">seqInTrail</span> <span class="op">+</span> <span class="va">Relation</span> <span class="op">+</span> <span class="va">isPredOrFree</span>, <span class="va">.</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">pass3_model2</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = log(charCount) ~ noCompetitors + noPrevSubjMentionsIn10 + </span></span>
<span><span class="co">#&gt;     noPrevNonSubjMentionsIn10 + gapUnitsNew + seqInTrail + Relation + </span></span>
<span><span class="co">#&gt;     isPredOrFree, data = .)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;      Min       1Q   Median       3Q      Max </span></span>
<span><span class="co">#&gt; -1.34330 -0.52749 -0.08254  0.34910  1.85800 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;                            Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)                1.483987   0.256739   5.780 4.45e-08 ***</span></span>
<span><span class="co">#&gt; noCompetitors              0.039377   0.015384   2.560  0.01151 *  </span></span>
<span><span class="co">#&gt; noPrevSubjMentionsIn10    -0.018280   0.045882  -0.398  0.69092    </span></span>
<span><span class="co">#&gt; noPrevNonSubjMentionsIn10 -0.030825   0.069243  -0.445  0.65687    </span></span>
<span><span class="co">#&gt; gapUnitsNew               -0.014107   0.007811  -1.806  0.07299 .  </span></span>
<span><span class="co">#&gt; seqInTrail                -0.031400   0.007329  -4.284 3.33e-05 ***</span></span>
<span><span class="co">#&gt; RelationSubj              -0.630342   0.159418  -3.954  0.00012 ***</span></span>
<span><span class="co">#&gt; isPredOrFreeTRUE          -0.054962   0.157898  -0.348  0.72828    </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 0.7292 on 144 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.3567, Adjusted R-squared:  0.3255 </span></span>
<span><span class="co">#&gt; F-statistic: 11.41 on 7 and 144 DF,  p-value: 1.816e-11</span></span></code></pre></div>
<p>Unfortunately, splitting up <code>noPrevSubjMentions</code> does not
help much.</p>
</div>
<div class="section level3">
<h3 id="adding-information-about-number">Adding information about number<a class="anchor" aria-label="anchor" href="#adding-information-about-number"></a>
</h3>
<p>Let’s take a final crack at the problem by seeing whether number
(singular vs plural) has an effect on referential choice. This involves
some manual annotation, which will have to be done outside of R. Our
steps are as follows:</p>
<ol style="list-style-type: decimal">
<li>We will first take a guess at what the grammatical number of a track
in <code>rez007$trackDF</code> is using a set of simplistic rules based
on the linguistic form.</li>
<li>Then we export a <code>.csv</code> file from <code>rezonateR</code>,
and edit the automatic guesses in Microsoft Excel (or any other
spreadsheet program of your choice).</li>
<li>We then import the <code>.csv</code> file back into
<code>rezonateR</code> and update <code>rez007$trackDF</code> from the
imported file.</li>
</ol>
<p>Let’s say we want to annotate the grammatical number of the
referential expressions inside <code>trackDF$default</code>. A good
approximation will be to:</p>
<ul>
<li><p>mark everything that ends with &lt;s&gt; as plural, along with
common plural pronouns and demonstratives</p></li>
<li><p>mark coordinate noun phrases as plural</p></li>
<li><p>mark noun phrases with singular demonstratives as
singular</p></li>
<li><p>mark <em>you</em> and zeroes as uncertain</p></li>
<li><p>mark the rest as singular.</p></li>
</ul>
<p>The following code performs these actions:</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/rez_mutate.html">rez_mutate</a></span><span class="op">(</span>number <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">text</span>, <span class="st">" and "</span><span class="op">)</span> <span class="op">~</span> <span class="st">"pl"</span>,</span>
<span>  <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_starts.html" class="external-link">str_ends</a></span><span class="op">(</span><span class="va">text</span>, <span class="st">"s"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"pl"</span>,</span>
<span>  <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">text</span><span class="op">)</span>, <span class="st">"(these|those)"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"pl"</span>,</span>
<span>  <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">text</span><span class="op">)</span>, <span class="st">"(this|that)"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"sg"</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">text</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"we"</span>, <span class="st">"they"</span>, <span class="st">"us"</span>, <span class="st">"them"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"pl"</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">text</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"you"</span>, <span class="st">"&lt;0&gt;"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"?"</span>,</span>
<span>  <span class="cn">T</span> <span class="op">~</span> <span class="st">"sg"</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">name</span>, <span class="va">text</span>, <span class="va">number</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 4</span></span></span>
<span><span class="co">#&gt;   id            name            text         number</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 1096E4AFFFE65 Mary            I            sg    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 92F20ACA5F06  Mary            I            sg    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 1F74D2B049FA4 Staying up late this         pl    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2485C4F740FC0 Mary            &lt;0&gt;          ?     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 1BF2260B4AB78 Staying up late Stay up late sg    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 6B37B5A80F2A  Staying up late &lt;0&gt;          ?</span></span></code></pre></div>
<p>Before we export this as a <code>.csv</code> for annotation, I would
like to add a column inside the <code>trackDF</code> that gives us the
transcription of the entire unit. It will be useful to be able to see
this column while making manual annotations, such as when dealing with
zero mentions. To simplify, we will just get the last unit even for
multi-line chunks. Here is the code. We are using
<code><a href="../reference/rez_left_join.html">rez_left_join()</a></code>, another TidyRez function, and extracting
the <code>text</code> column of the unit whose <code>unitSeq</code> in
<code>unitDF</code> corresponds to the <code>unitSeqLast</code> of a
referential expression in <code>trackDF</code>:</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rez_left_join.html">rez_left_join</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">unitDF</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/rez_select.html">rez_select</a></span><span class="op">(</span><span class="va">unitSeq</span>, <span class="va">text</span><span class="op">)</span>,</span>
<span>                by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>unitSeqLast <span class="op">=</span> <span class="st">"unitSeq"</span><span class="op">)</span>,</span>
<span>                suffix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">"_unit"</span><span class="op">)</span>,</span>
<span>                df2key <span class="op">=</span> <span class="st">"unitSeq"</span>,</span>
<span>                rezrObj <span class="op">=</span> <span class="va">rez007</span>,</span>
<span>                df2Address <span class="op">=</span> <span class="st">"unitDF"</span>,</span>
<span>                fkey <span class="op">=</span> <span class="st">"unitSeqLast"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rez_rename.html">rez_rename</a></span><span class="op">(</span>unitLastText <span class="op">=</span> <span class="va">text_unit</span><span class="op">)</span></span>
<span><span class="co">#&gt; Tip: When performed on a rezrDF inside a rezrObj, rez_rename is a potentially destructive action. It is NOT recommended to assign it back to a rezrDF inside a rezrObj. If you must do so, be careful to update all addresses from other DFs to this DF.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">unitLastText</span>, <span class="va">text</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 3</span></span></span>
<span><span class="co">#&gt;   id            unitLastText                                               text </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 1096E4AFFFE65 I said I was n't gon na do this anymore .                  I    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 92F20ACA5F06  I said I was n't gon na do this anymore .                  I    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 1F74D2B049FA4 I said I was n't gon na do this anymore .                  this </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2485C4F740FC0 (...) &lt;0&gt; Stay up late .                                   &lt;0&gt;  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 1BF2260B4AB78 (...) &lt;0&gt; Stay up late .                                   Stay…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 6B37B5A80F2A  (...) &lt;0&gt; Kinda defeats the purpose of getting up in the … &lt;0&gt;</span></span></code></pre></div>
<p>Here, <em>I said I wasn’t gonna do this anymore .</em> is the full
unit text of the first three referential expressions (the two
<em>I</em>s and <em>this</em>), which is why it appears three times in
the table.</p>
<p>We then write the <code>csv</code> file. We only export a subset of
the columns in the <code>trackDF</code> so that our screen is cleaner
and easier to work with:</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/rw.html">rez_write_csv</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span>, <span class="st">"rez007_refexpr.csv"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"unitLastText"</span>, <span class="st">"tokenOrderLast"</span>, <span class="st">"text"</span>, <span class="st">"name"</span>, <span class="st">"number"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>An editing best practice is to copy the <code>.csv</code> file and
edit from the copy, rather from the <code>.csv</code> you export
directly. Figure 7 shows what the exported <code>.csv</code> looks like
in Excel:</p>
<div class="figure">
<img src="img/sample-excel.PNG" style="width:100.0%" alt=""><p class="caption">Figure 28: A screenshot of the .csv file in
Excel.</p>
</div>
<p>After editing the CSV in a spreadsheet program to fix the mistakes
and get rid of the ?s, we import it back using
<code><a href="../reference/rw.html">rez_read_csv()</a></code> (specifying the original <code>rezrDF</code>
makes the import processes smoother and less error-prone):</p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">changeDF</span> <span class="op">=</span> <span class="fu"><a href="../reference/rw.html">rez_read_csv</a></span><span class="op">(</span><span class="st">"rez007_refexpr_edited_sampleproj.csv"</span>, origDF <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span><span class="op">)</span></span></code></pre></div>
<p>Finally, we use the <code><a href="../reference/updateFromDF.html">updateFromDF()</a></code> function to change
the <code>number</code> column:</p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/updateFromDF.html">updateFromDF</a></span><span class="op">(</span><span class="va">changeDF</span>, changeCols <span class="op">=</span> <span class="st">"number"</span><span class="op">)</span></span>
<span><span class="co">#&gt;      </span></span>
<span><span class="co">#&gt; "id" </span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">text</span>, <span class="va">number</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 3</span></span></span>
<span><span class="co">#&gt;   id            text         number</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 1096E4AFFFE65 I            sg    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 92F20ACA5F06  I            sg    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 1F74D2B049FA4 this         pl    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2485C4F740FC0 &lt;0&gt;          sg    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 1BF2260B4AB78 Stay up late sg    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 6B37B5A80F2A  &lt;0&gt;          sg</span></span></code></pre></div>
<p>Now let’s graph the difference between the singulars and plurals in a
graph:</p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">gapUnitsNew</span><span class="op">)</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">number</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">number</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_violin.html" class="external-link">geom_violin</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="sample_proj_files/figure-html/unnamed-chunk-52-1.png" width="700"></p>
<p>Singulars seem to be more concentrated towards the smaller character
counts, but at the same time have more outliers that are very heavy.
Let’s put these in the model and see what happens:</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pass3_model3</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">gapUnitsNew</span><span class="op">)</span>, <span class="va">charCount</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">charCount</span><span class="op">)</span> <span class="op">~</span> <span class="va">noCompetitors</span> <span class="op">+</span> <span class="va">noPrevSubjMentionsIn10</span> <span class="op">+</span> <span class="va">noPrevNonSubjMentionsIn10</span> <span class="op">+</span> <span class="va">gapUnitsNew</span> <span class="op">+</span> <span class="va">seqInTrail</span> <span class="op">+</span> <span class="va">number</span> <span class="op">+</span> <span class="va">Relation</span> <span class="op">+</span> <span class="va">isPredOrFree</span>, <span class="va">.</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">pass3_model3</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = log(charCount) ~ noCompetitors + noPrevSubjMentionsIn10 + </span></span>
<span><span class="co">#&gt;     noPrevNonSubjMentionsIn10 + gapUnitsNew + seqInTrail + number + </span></span>
<span><span class="co">#&gt;     Relation + isPredOrFree, data = .)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;      Min       1Q   Median       3Q      Max </span></span>
<span><span class="co">#&gt; -1.27550 -0.48588 -0.07187  0.35337  1.99953 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;                            Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)                1.733582   0.304561   5.692 7.16e-08 ***</span></span>
<span><span class="co">#&gt; noCompetitors              0.028126   0.015982   1.760 0.080624 .  </span></span>
<span><span class="co">#&gt; noPrevSubjMentionsIn10    -0.035508   0.044943  -0.790 0.430828    </span></span>
<span><span class="co">#&gt; noPrevNonSubjMentionsIn10 -0.049998   0.067009  -0.746 0.456849    </span></span>
<span><span class="co">#&gt; gapUnitsNew               -0.013956   0.007495  -1.862 0.064701 .  </span></span>
<span><span class="co">#&gt; seqInTrail                -0.025856   0.007250  -3.567 0.000497 ***</span></span>
<span><span class="co">#&gt; numbersg                  -0.258458   0.157419  -1.642 0.102882    </span></span>
<span><span class="co">#&gt; RelationSubj              -0.585831   0.154338  -3.796 0.000219 ***</span></span>
<span><span class="co">#&gt; isPredOrFreeTRUE          -0.043474   0.153827  -0.283 0.777892    </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 0.6971 on 139 degrees of freedom</span></span>
<span><span class="co">#&gt;   (4 observations deleted due to missingness)</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.3454, Adjusted R-squared:  0.3078 </span></span>
<span><span class="co">#&gt; F-statistic: 9.169 on 8 and 139 DF,  p-value: 4.404e-10</span></span></code></pre></div>
<p>Whether the current mention is a subject continues to turn out to be
a good predictor, as does the sequence of a mention in the trail. The
rest of the predictors are not significant, though some of them
(particularly the number of competitors) may hold some promise on a
larger dataset. Grammatical number does not seem particularly
promising.</p>
</div>
</div>
<div class="section level2">
<h2 id="a-post-mortem-where-did-all-the-effects-go">A post-mortem: Where did all the effects go?<a class="anchor" aria-label="anchor" href="#a-post-mortem-where-did-all-the-effects-go"></a>
</h2>
<p>It may be disappointing that only two predictors, the sequence of a
track in the trail and the subject/non-subject contrast, were
significant. Even though we know from previous studies that previous
mentions are generally important in determining the choice of
referential form, only the order of a track in the trail turned out to
be significant, and other context-related variables did not.</p>
<p>Of course, our power is very small because of the tiny sample size,
and we have only been studying a small portion of a single text, which
may have unusual properties. So what might those unusual properties be?
Let’s explore the data a little more to find out.</p>
<p>Let’s start with the lengths of the chains. A text with little
coreference will naturally have fewer referents that have been mentioned
enough times to become accessible. The <code>chainSize</code> column of
<code>trailDF</code> gives us the chain size, so we can plot it as a
histogram:</p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rez007</span><span class="op">$</span><span class="va">trailDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">chainSize</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">40</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="sample_proj_files/figure-html/unnamed-chunk-54-1.png" width="700"></p>
<p>We have a small number of very long chains, a small number of
moderately-sized chains, and a very large number of short (1-3) chains -
and this is ignoring the fact that some of these lengths are longer than
the real length, because they contain chunks that are two parts of a
larger, multi-unit chunk.</p>
<p>Now let’s look at the top chains - say, the ones with more than 10
tracks. What are they? We can extract them from <code>trailDF</code>
first, then explore the corresponding tracks in the
<code>trackDF</code>:</p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">longestChains</span> <span class="op">=</span> <span class="va">rez007</span><span class="op">$</span><span class="va">trailDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">chainSize</span> <span class="op">&gt;</span> <span class="fl">10</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="va">rez007</span><span class="op">$</span><span class="va">trackDF</span><span class="op">$</span><span class="va">default</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">chain</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">longestChains</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">name</span>, <span class="va">text</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_split.html" class="external-link">group_split</a></span><span class="op">(</span><span class="va">name</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">head</span></span>
<span><span class="co">#&gt; &lt;list_of&lt;</span></span>
<span><span class="co">#&gt;   tbl_df&lt;</span></span>
<span><span class="co">#&gt;     name: character</span></span>
<span><span class="co">#&gt;     text: character</span></span>
<span><span class="co">#&gt;   &gt;</span></span>
<span><span class="co">#&gt; &gt;[4]&gt;</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 37 × 2</span></span></span>
<span><span class="co">#&gt;    name  text </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Alice I    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Alice I    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Alice I    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Alice I    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Alice I    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Alice I    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Alice I    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Alice I    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Alice I    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Alice l    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 27 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ Use `print(n = ...)` to see more rows</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 11 × 2</span></span></span>
<span><span class="co">#&gt;    name  text </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Mary  I    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Mary  I    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Mary  &lt;0&gt;  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Mary  I    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Mary  You  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Mary  I    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Mary  You  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Mary  You  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Mary  I    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Mary  I    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> Mary  I    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 31 × 2</span></span></span>
<span><span class="co">#&gt;    name  text </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Tim   Tim  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Tim   he   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Tim   He   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Tim   he   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Tim   Tim  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Tim   Tim  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Tim   he   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Tim   he   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Tim   he   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Tim   he   </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 21 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ Use `print(n = ...)` to see more rows</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[4]]</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 17 × 2</span></span></span>
<span><span class="co">#&gt;    name          text                            </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Tim and Mandy them                            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Tim and Mandy the only ones cleaning the house</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Tim and Mandy they                            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Tim and Mandy another couple                  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Tim and Mandy them                            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Tim and Mandy they                            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Tim and Mandy they                            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Tim and Mandy they                            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Tim and Mandy They                            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Tim and Mandy babies                          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> Tim and Mandy They                            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> Tim and Mandy &lt;0&gt;                             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> Tim and Mandy them                            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> Tim and Mandy they                            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> Tim and Mandy they                            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> Tim and Mandy they                            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span> Tim and Mandy they</span></span></code></pre></div>
<p>As we can see in this table, the top referents are all humans, and
they are mostly referred to using pronouns. ‘I’ and ‘you’, in
particular, are virtually always pronouns, since they are the two speech
act participants, so there is little distinction between longer and
shorter referential expressions. Moreover, ‘Tim’ happens to be a very
short name - with the same number of letters as ‘him’, in fact. These
four chains make up so much of the proportion of the data that
naturally, whatever effects we end up finding are small.</p>
<p>The fact that ‘Tim’ (and in fact many other names in this text, like
Ron and Mary) are orthographically short also compels us to consider
other dimensions of accessibility theory. In this project, our response
measure is orthographic length, which is a proxy for phonological
length. As defined by Ariel (2001), however, the form-function
correlations claimed by accessibility theory are not based on
phonological size alone. There are also two other dimensions:
informativity (amount of lexical information contained), rigidity
(ability of a form to pick a unique referent). Because forms like
<em>Tim</em> are more rigid and informative than forms like
<em>him</em>, it stands to reason that a dependent measure based on
informativity and/or rigidity may reveal greater effects in this
particular text snippet than phonological size.</p>
<p>Another possible venue for exploration is to explore
<em>phonetic</em> length (and perhaps other prosodic measures such as
intensity and pitch), rather than phonological size. We have seen that
instances of cataphora complicate the analysis, but it is probable that
cataphoric forms will have longer prosodic length and more stress than
anaphoric ones. This information can be extracted through a program like
Praat and <a href="https://onzeminer.sourceforge.net/" class="external-link">LaBB-CAT</a>, and
then re-integrated into the rezonateR data using functions like
<code><a href="../reference/rez_left_join.html">rez_left_join()</a></code> to perform fancier modelling that separates
cataphoric from anaphoric cases.</p>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>In this tutorial, we have explored the topic of referent
accessibility and referential choice using a small snippet of natural
conversation. We derived a number of predictors hypothesised to be
associated with higher accessibility, and explored their relationship
with the length of referential expressions. We have seen that there is a
large discrepancy between subjects and non-subjects - subjects tend to
be much shorter than non-subjects - as well as an effect of position in
the coreference chain - that is, the more times a referent has been
mentioned before, the shorter the form used to refer to it. We have also
discussed why other factors do not seem to have much of an effect in our
small sample.</p>
<p>In the process, we have explored many of the major features of
<code>rezonateR</code>. We have explored the structure of a Rezonator
file, and imported a file into <code>rezonateR</code>. We have explored
the various ways that the sequence and order of entities in discourse
are represented in <code>rezonateR</code>. We have explored the use of
functions for deriving predictors related to the context preceding a
referential expression, such as the number of previous mentions, the
number of competitors, and the sequential position of an entity in a
chain. We have seen how to merge chunks spanning multiple units in
Rezonator and add information from trees in Rezonator. We have also done
some automatic annotation in <code>rezonateR</code>, exported a table
containing those automatic annotations, did some manual corrections in a
spreadsheet, and imported the results back into <code>rezonateR</code>.
Throughout this process, we used a number of functions from different
parts of <code>rezonateR</code>, and applied it to a real research
question.</p>
</div>
<div class="section level2">
<h2 id="where-to-go-from-here">Where to go from here?<a class="anchor" aria-label="anchor" href="#where-to-go-from-here"></a>
</h2>
<p>As stated at the beginning, this simple tutorial still leaves out a
lot of features, such as <em>reloads</em>, which allow you to update
certain column automatically after changing other columns. The series of
tutorials, starting from an introduction to <a href="https://rezonators.github.io/rezonateR/articles/import_save_basics.html">imports,
saving and data structure</a>
(<code><a href="../articles/import_save_basics.html">vignette("import_save_basics")</a></code>), is based on the same
dataset as this tutorial, but covers most functionality of the package
down to the smallest details, and you can pick and choose topics from
there to read. If you are already familiar with using Rezonator, the <a href="https://rezonators.github.io/rezonateR/articles/overview.html">overview</a>
(<code><a href="../articles/overview.html">vignette("overview")</a></code>) is a less topically focused overview
that tells you how <code>rezonateR</code> can support your Rezonator
work, covering more topics about different aspects of
<code>rezonateR</code>. Good luck!</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Ariel, Mira. 2001. Accessibility theory: An overview. In Ted Sanders,
Joost Schilperoord &amp; Wilbert Spooren (eds.), <em>Text
representation: Linguistic and psycholinguistic aspects (Human Cognitive
Processing)</em>, 29–87. Amsterdam: John Benjamins Publishing Company.
<a href="https://doi.org/10.1075/hcp.8.04ari." class="external-link uri">https://doi.org/10.1075/hcp.8.04ari.</a></p>
<p>Arnold, Jennifer E. 2008. Reference production: Production-internal
and addressee-oriented processes. <em>Language and Cognitive
Processes</em> 23(4). 495–527. <a href="https://doi.org/10.1080/01690960801920099." class="external-link uri">https://doi.org/10.1080/01690960801920099.</a></p>
<p>Du Bois, John W., Wallace L. Chafe, Charles Meyer, Sandra A. Thompson
&amp; Nii Martey. 2000. Santa Barbara Corpus of Spoken American English.
CD-ROM. Philadelphia: Linguistic Data Consortium. Linguistic Data
Consortium.</p>
<p>Helasvuo, Marja-Liisa. 2019. Free NPs as units in Finnish.
<em>Studies in Language</em> 43(2). 301–328.</p>
<p>Zeldes, Amir. 2022. Can we fix the scope for coreference?: problems
and solutions for benchmarks beyond OntoNotes. <em>Dialogue
Discourse</em> 13(1). 41–62.</p>
<p>van Deemter, Kees &amp; Rodger Kibble. 2000. On coreferring:
Coreference in MUC and related annotation schemes. <em>Computational
linguistics</em>. 26(4). 629–637.</p>
<table class="table">
<colgroup><col width="100%"></colgroup>
<thead><tr class="header">
<th>Further reading</th>
</tr></thead>
<tbody><tr class="odd">
<td>
<p>Ariel, Mira. 1994. Interpreting anaphoric expressions: A
cognitive versus a pragmatic approach. <em>Journal of Linguistics</em>.
30(1). 3–42.</p>
<p>Almor, Amit, Jefferson de Carvalho Maia, Maria Luiza Cunha Lima,
Mirta Vernice &amp; Carlos Gelormini-Lezama. 2017. Language processing,
acceptability, and statistical distribution: A study of null and overt
subjects in Brazilian Portuguese. <em>Journal of Memory and
Language</em> 92. 98–113. <a href="https://doi.org/10.1016/j.jml.2016.06.001." class="external-link uri">https://doi.org/10.1016/j.jml.2016.06.001.</a></p>
<p>Arnold, Jennifer E. 2010. How speakers refer: The role of
accessibility. <em>Language and Linguistics Compass</em> 4(4).
187–203.</p>
<p>Brennan, Susan E. 1995. Centering attention in discourse.
<em>Language and Cognitive Processes</em> 10(2). 137–167. <a href="https://doi.org/10.1080/01690969508407091." class="external-link uri">https://doi.org/10.1080/01690969508407091.</a></p>
<p>Chen, Guanyi, Fahime Same &amp; Kees van Deemter. 2023. Neural
referential form selection: Generalisability and interpretability.
Computer Speech &amp; Language 79. 101466. <a href="https://doi.org/10.1016/j.csl.2022.101466." class="external-link uri">https://doi.org/10.1016/j.csl.2022.101466.</a></p>
<p>Gordon, Peter C., Barbara J. Grosz &amp; Laura A. Gilliom. 1993.
Pronouns, names, and the centering of attention in discourse.
<em>Cognitive Science</em> 17(3). 311–347.</p>
<p>Gundel, Jeanette K., Nancy Hedberg &amp; Ron Zacharski. 1993.
Cognitive status and the form of referring expressions in discourse.
<em>Language.</em> 274–307.</p>
<p>Kibrik, Andrej A., Mariya V. Khudyakova, Grigory B. Dobrov, Anastasia
Linnik &amp; Dmitrij A. Zalmanov. 2016. Referential Choice:
Predictability and Its Limits. <em>Frontiers in Psychology</em>.
Frontiers 7. <a href="https://doi.org/10.3389/fpsyg.2016.01429" class="external-link uri">https://doi.org/10.3389/fpsyg.2016.01429</a>.</p>
<p>Same, Fahime &amp; Kees van Deemter. 2020. A Linguistic Perspective
on Reference: Choosing a Feature Set for Generating Referring
Expressions in Context. In Proceedings of the 28th International
Conference on Computational Linguistics, 4575–4586. Barcelona, Spain
(Online): International Committee on Computational Linguistics. <a href="https://doi.org/10.18653/v1/2020.coling-main.403." class="external-link uri">https://doi.org/10.18653/v1/2020.coling-main.403.</a></p>
</td>
</tr></tbody>
</table>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Ryan Ka Yau Lai, John W Du Bois.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
